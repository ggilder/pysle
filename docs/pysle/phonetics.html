<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>pysle.phonetics API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../pysle.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;pysle</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="function" href="#isVowel">isVowel</a>
            </li>
            <li>
                    <a class="function" href="#isRhotic">isRhotic</a>
            </li>
            <li>
                    <a class="class" href="#AbstractPhonemeList">AbstractPhonemeList</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AbstractPhonemeList.__init__">AbstractPhonemeList</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractPhonemeList.stripDiacritics">stripDiacritics</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractPhonemeList.simplify">simplify</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PhonemeList">PhonemeList</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PhonemeList.findBestSyllabification">findBestSyllabification</a>
                        </li>
                        <li>
                                <a class="function" href="#PhonemeList.findClosestEntry">findClosestEntry</a>
                        </li>
                        <li>
                                <a class="function" href="#PhonemeList.syllabify">syllabify</a>
                        </li>
                        <li>
                                <a class="function" href="#PhonemeList.align">align</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Syllable">Syllable</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Syllable.__init__">Syllable</a>
                        </li>
                        <li>
                                <a class="variable" href="#Syllable.nucleus">nucleus</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Syllabification">Syllabification</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Syllabification.__init__">Syllabification</a>
                        </li>
                        <li>
                                <a class="function" href="#Syllabification.new">new</a>
                        </li>
                        <li>
                                <a class="function" href="#Syllabification.toList">toList</a>
                        </li>
                        <li>
                                <a class="function" href="#Syllabification.desyllabify">desyllabify</a>
                        </li>
                        <li>
                                <a class="function" href="#Syllabification.stretch">stretch</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Entry">Entry</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Entry.__init__">Entry</a>
                        </li>
                        <li>
                                <a class="function" href="#Entry.toList">toList</a>
                        </li>
                        <li>
                                <a class="function" href="#Entry.toDict">toDict</a>
                        </li>
                        <li>
                                <a class="function" href="#Entry.findClosestPronunciation">findClosestPronunciation</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../pysle.html">pysle</a><wbr>.phonetics    </h1>

                        <div class="docstring"><p>Data types for representing Isle dictionaries entries and pronunciations</p>
</div>

                        <input id="mod-phonetics-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-phonetics-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1"># encoding: utf-8</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">&quot;&quot;&quot;Data types for representing Isle dictionaries entries and pronunciations</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">re</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">TypeVar</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Literal</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">pysle.utilities</span> <span class="kn">import</span> <span class="n">errors</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">from</span> <span class="nn">pysle.utilities</span> <span class="kn">import</span> <span class="n">constants</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span> <span class="nn">pysle.utilities</span> <span class="kn">import</span> <span class="n">phonetic_constants</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span> <span class="nn">pysle.utilities</span> <span class="kn">import</span> <span class="n">utils</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="k">def</span> <span class="nf">isVowel</span><span class="p">(</span><span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>    <span class="k">return</span> <span class="nb">any</span><span class="p">([</span><span class="n">vowel</span> <span class="ow">in</span> <span class="n">char</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">vowelList</span><span class="p">])</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="k">def</span> <span class="nf">isRhotic</span><span class="p">(</span><span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>    <span class="k">return</span> <span class="nb">any</span><span class="p">([</span><span class="n">rhotic</span> <span class="ow">in</span> <span class="n">char</span> <span class="k">for</span> <span class="n">rhotic</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">rhotics</span><span class="p">])</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="s2">&quot;AbstractPhonemeList&quot;</span><span class="p">)</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="k">class</span> <span class="nc">AbstractPhonemeList</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for a list of phonemes&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]):</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">NullPhoneError</span><span class="p">()</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">=</span> <span class="n">phonemes</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">phonemes</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>    <span class="k">def</span> <span class="nf">stripDiacritics</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes diacritics from phones&quot;&quot;&quot;</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="c1"># TODO: make more comprehensive</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>        <span class="n">newPhonemes</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;[˺ˌˈ]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">phone</span><span class="p">)</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">newPhonemes</span><span class="p">)</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>    <span class="k">def</span> <span class="nf">simplify</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simplifies pronunciation</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">        - Removes diacritics</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">        - Unifies vowels and rhotics</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">        - Reduces all phonemes to one character</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>        <span class="n">simplifiedPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>            <span class="k">for</span> <span class="n">diacritic</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">diacriticList</span><span class="p">:</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">diacritic</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>            <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>            <span class="k">if</span> <span class="n">isRhotic</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>  <span class="c1"># Unify rhotics</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>            <span class="k">elif</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;V&quot;</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>            <span class="n">simplifiedPhones</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">simplifiedPhones</span><span class="p">)</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="k">class</span> <span class="nc">PhonemeList</span><span class="p">(</span><span class="n">AbstractPhonemeList</span><span class="p">):</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of phonemes</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">    Attributes:</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        phonemes: The list of phonemes</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">):</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="nf">findBestSyllabification</span><span class="p">(</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">],</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds the closest entry to the PhonemeList and uses it as the model Syllabification</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>        <span class="n">syllabification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabify</span><span class="p">(</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>            <span class="n">syllabification</span><span class="p">,</span> <span class="n">onSizeError</span><span class="o">=</span><span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="o">.</span><span class="n">SILENCE</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="p">)</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">findClosestEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Entry&quot;</span><span class="p">:</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="sd">        Finds the closest Entry to this PhonemeList</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">syllabify</span><span class="p">(</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="n">syllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="n">onSizeError</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;silence&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Up convert a PhonemeList to a Syllabification</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">        This requires a syllabification to model after. This is a best-effort</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">        conversion. For best results, the syllabification should be as close</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">        to this phone list, in terms of phones.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        Args:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">            syllabification: the model syllabification to map onto this PhonemeList</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">            onSizeError: determines the behavior when the syllabification has a</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">                different number of phonemes from this PhonemeList</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        Returns:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">            a Syllabification of this PhonemeList</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">        Raises:</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">            SyllabificationError: when the length of the PhonemeList does not match the</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">                model Syllabification</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="n">utils</span><span class="o">.</span><span class="n">validateOption</span><span class="p">(</span><span class="s2">&quot;onSizeError&quot;</span><span class="p">,</span> <span class="n">onSizeError</span><span class="p">,</span> <span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="p">)</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="n">errorReporter</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">getErrorReporter</span><span class="p">(</span><span class="n">onSizeError</span><span class="p">)</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="n">numPhoneList</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="n">syllabifiedList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">numPhoneList</span><span class="p">:</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>            <span class="n">syllable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">]</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>                <span class="n">syllabifiedList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>            <span class="n">start</span> <span class="o">+=</span> <span class="n">end</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="n">targetLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="n">actualLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">)</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="n">targetNumPhones</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">())</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="n">targetLen</span> <span class="o">&gt;</span> <span class="n">actualLen</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too long for the input &quot;</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the output has been truncated (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>            <span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>        <span class="k">elif</span> <span class="n">targetNumPhones</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">):</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too short for the input &quot;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the best fit syllabification output is (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>            <span class="p">)</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        <span class="c1"># TODO: Resolve stress properly?</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[])</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="k">def</span> <span class="nf">align</span><span class="p">(</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">targetPhoneList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">]:</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Align the phones in two pronunciations</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">        This will find the longest (non-continuous) common sequence and fill in the gaps</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        before, between, and after the characters such that the common elements</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        occur at the same points and the character strings are the same length</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span class="sd">        In the following example, the phone lists share the sequence [&#39;a&#39;, &#39;d&#39;]</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">        ```python</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="sd">        phoneListA = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="sd">        phoneListB = [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &#39;d&#39;, &#39;u&#39;]</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">        a, b = alignPronunciations(phoneListA, phoneListB)</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">        print(a) &gt; [&quot;&#39;&#39;&quot;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="sd">        print(b) &gt; [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &quot;&#39;&#39;&quot;, &#39;d&#39;, &#39;u&#39;, &quot;&#39;&#39;&quot;]</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">        ```</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="sd">        Args:</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">            targetPhoneList: the PhoneList to align with the current PhoneList</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">            simplifiedMatching: if True, use a simplified version of phones, which</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">                allows for looser matching; if False, characters must match exactly</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">                as is</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        Returns:</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">            this PhoneList and the targetPhoneList, aligned in length</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        Raises:</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">            UnexpectedError: hopefully you should never see this</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>        <span class="k">def</span> <span class="nf">_undoSimplification</span><span class="p">(</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="n">rawPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">phonemeList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="n">rawPhones</span> <span class="o">=</span> <span class="n">rawPhones</span><span class="p">[:]</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>            <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>                <span class="p">[</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>                    <span class="n">rawPhones</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>                    <span class="k">if</span> <span class="n">phon</span> <span class="o">!=</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>                    <span class="k">else</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>                    <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">phonemeList</span><span class="o">.</span><span class="n">phonemes</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>                <span class="p">]</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>            <span class="p">)</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>        <span class="k">if</span> <span class="n">simplifiedMatching</span><span class="p">:</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>                <span class="n">targetPhoneList</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>            <span class="p">)</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>            <span class="n">alignedSelf</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedSelf</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="n">alignedTarget</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedTarget</span><span class="p">)</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="p">)</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedSelf</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedTarget</span><span class="p">):</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">UnexpectedError</span><span class="p">(</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>                <span class="s2">&quot;Source and target phone lengths are different but should be the same. &quot;</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">alignedSelf</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">), (</span><span class="si">{</span><span class="n">alignedTarget</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">).  Please report to the developers.&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>            <span class="p">)</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>        <span class="k">return</span> <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">_findClosestEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">]:</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds the closest Entry out of those in a list to the current PhonemeList</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        Entries are first aligned with this PhonemeList. The entry with the fewest</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="sd">        number of changes needed in alignment is considered to be the closest entry.</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="sd">        Args:</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="sd">            entries: the entries to search through</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="sd">        Returns:</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">            both the closest entry and a modified version of the closest entry,</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="sd">            morphed to be similar to the source PhonemeList</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a><span class="sd">        Raises:</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">            FeatureNotYetAvailableError: For multi-word entries</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>        <span class="n">numDiffList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="n">withStress</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>        <span class="n">modifiedSyllabificationLists</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="n">targetPhoneListCandidates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PhonemeList</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="c1"># TODO: Add support for multi-word entries (seems tedious for little benefit?)</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FeatureNotYetAvailableError</span><span class="p">(</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>                    <span class="s2">&quot;findClosestEntry does not support multi-word lookup (yet).  Please file an issue to bump priority.&quot;</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>                <span class="p">)</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>            <span class="n">targetSyllabification</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="n">adjustedPhoneList</span><span class="p">,</span> <span class="n">adjustedTargetPhoneList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>                <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">(),</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>            <span class="p">)</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>            <span class="n">numDiff</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="n">numDiff</span> <span class="o">+=</span> <span class="n">adjustedTargetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>            <span class="n">numDiffList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numDiff</span><span class="p">)</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="n">withStress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">hasStress</span><span class="p">)</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>            <span class="n">modifiedSyllabificationLists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>                <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">_postAlignAdjustment</span><span class="p">(</span><span class="n">adjustedTargetPhoneList</span><span class="p">)</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>            <span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">_chooseMostSimilarWithStress</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">,</span> <span class="n">withStress</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ClosestEntryError</span><span class="p">(</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>                <span class="s2">&quot;Unexpected error: Could not choose a closest pronunciation.&quot;</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>            <span class="p">)</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>        <span class="n">closestEntry</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="n">modifiedTargetSyllabification</span> <span class="o">=</span> <span class="n">modifiedSyllabificationLists</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>        <span class="n">constructedEntry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>            <span class="n">closestEntry</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="p">[</span><span class="n">modifiedTargetSyllabification</span><span class="p">],</span> <span class="n">closestEntry</span><span class="o">.</span><span class="n">posList</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>        <span class="p">)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">closestEntry</span><span class="p">,</span> <span class="n">constructedEntry</span><span class="p">)</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">targetPhoneList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">]:</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See PhonemeList.align()&quot;&quot;&quot;</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>        <span class="c1"># Remove any elements not in the other list (but maintain order)</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>        <span class="n">pronATmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>        <span class="n">pronBTmp</span> <span class="o">=</span> <span class="n">targetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>        <span class="c1"># Find the longest sequence</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="n">sequence</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">_lcs</span><span class="p">(</span><span class="n">pronBTmp</span><span class="p">,</span> <span class="n">pronATmp</span><span class="p">)</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="c1"># Find the index of the sequence</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>        <span class="c1"># TODO: investigate ambiguous cases</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>        <span class="n">startA</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>        <span class="n">startB</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>        <span class="n">sequenceIndexListA</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="n">sequenceIndexListB</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">:</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>            <span class="n">startA</span> <span class="o">=</span> <span class="n">pronATmp</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">startA</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>            <span class="n">startB</span> <span class="o">=</span> <span class="n">pronBTmp</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">startB</span><span class="p">)</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>            <span class="n">sequenceIndexListA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">startA</span><span class="p">)</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>            <span class="n">sequenceIndexListB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">startB</span><span class="p">)</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>            <span class="n">startA</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>            <span class="n">startB</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>        <span class="c1"># An index on the tail of both will be used to create output strings</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="c1"># of the same length</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>        <span class="n">sequenceIndexListA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pronATmp</span><span class="p">))</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>        <span class="n">sequenceIndexListB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pronBTmp</span><span class="p">))</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="c1"># Fill in any blanks such that the sequential items have the same</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>        <span class="c1"># index and the two strings are the same length</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sequenceIndexListA</span><span class="p">):</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>            <span class="n">indexA</span> <span class="o">=</span> <span class="n">sequenceIndexListA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>            <span class="n">indexB</span> <span class="o">=</span> <span class="n">sequenceIndexListB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>            <span class="k">if</span> <span class="n">indexA</span> <span class="o">&lt;</span> <span class="n">indexB</span><span class="p">:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">indexB</span> <span class="o">-</span> <span class="n">indexA</span><span class="p">):</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>                    <span class="n">pronATmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">indexA</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>                <span class="n">sequenceIndexListA</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>                    <span class="n">val</span> <span class="o">+</span> <span class="n">indexB</span> <span class="o">-</span> <span class="n">indexA</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">sequenceIndexListA</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                <span class="p">]</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>            <span class="k">elif</span> <span class="n">indexA</span> <span class="o">&gt;</span> <span class="n">indexB</span><span class="p">:</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">indexA</span> <span class="o">-</span> <span class="n">indexB</span><span class="p">):</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>                    <span class="n">pronBTmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">indexB</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>                <span class="n">sequenceIndexListB</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>                    <span class="n">val</span> <span class="o">+</span> <span class="n">indexA</span> <span class="o">-</span> <span class="n">indexB</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">sequenceIndexListB</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>                <span class="p">]</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">pronATmp</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">pronBTmp</span><span class="p">)</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="k">class</span> <span class="nc">Syllable</span><span class="p">(</span><span class="n">AbstractPhonemeList</span><span class="p">):</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of phonemes that compose a single Syllable</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a><span class="sd">    Attributes:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">        phonemes (List[str]): the list of phonemes in this syllable</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="sd">        cvList (List[str]): the consonant/vowel structure of the syllable</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a><span class="sd">        hasStress (bool): True if the syllable carries stress; False if not</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        hasSecondaryStress (bool): True if the syllable carries secondary</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a><span class="sd">            stress; False if not</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a><span class="sd">        nucleus (str): most typically the vowel of the syllable; None if the</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a><span class="sd">            vowel can&#39;t be detected</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="k">if</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;C&quot;</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="n">vowelCount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="n">vowelCount</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">TooManyVowelsInSyllableError</span><span class="p">(</span><span class="n">phonemes</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="p">)</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">Syllable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>    <span class="nd">@property</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>            <span class="k">if</span> <span class="s2">&quot;ˈ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>    <span class="nd">@property</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>    <span class="k">def</span> <span class="nf">hasSecondaryStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>            <span class="k">if</span> <span class="s2">&quot;ˌ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>    <span class="nd">@property</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    <span class="k">def</span> <span class="nf">nucleus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Typically the vowel in a syllable&quot;&quot;&quot;</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="n">vowelCount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="n">stressI</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="n">vowelCount</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>            <span class="n">stressI</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">stressI</span><span class="p">]</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="k">class</span> <span class="nc">Syllabification</span><span class="p">:</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Representation of athe phones in an utterance, divided into syllables</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="sd">    Attributes:</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a><span class="sd">        hasStress (bool): True if there is stress in this syllable; False if not</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="sd">        stress (List[int]): a list containing first the index of the stressed</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="sd">            syllable, followed by the indicies of syllables containing secondary</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a><span class="sd">            stress</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>        <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]],</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>        <span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>    <span class="p">):</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor for a Syllabification</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        Args:</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">            stressedSyllableIndicies: the location of stressed syllables;</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="sd">                primary stress should appear in the first position, followed</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="sd">                by secondary stress</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="sd">            stressedVowelIndicies: the location of stressed vowels, with</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">                respect to the syllables that they occur in</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>            <span class="n">_toSyllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllables</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>        <span class="p">]</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>            <span class="n">stressedSyllableIndicies</span> <span class="k">if</span> <span class="n">stressedSyllableIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>        <span class="p">)</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>            <span class="n">stressedVowelIndicies</span> <span class="k">if</span> <span class="n">stressedVowelIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>        <span class="p">)</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>    <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]):</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overloaded constructor for Syllabification</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a><span class="sd">        Stress information is be inferred from annotations on the syllables</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="sd">        Args:</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span> <span class="o">=</span> <span class="n">_findStress</span><span class="p">(</span><span class="n">syllables</span><span class="p">)</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>            <span class="n">syllables</span><span class="p">,</span> <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>        <span class="p">)</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">)</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Syllabification</span><span class="p">):</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>        <span class="n">isEqual</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">syllables</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stressedVowelIndicies</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">stressedVowelIndicies</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>        <span class="k">return</span> <span class="n">isEqual</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>    <span class="nd">@property</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>        <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">:</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>    <span class="nd">@property</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>    <span class="k">def</span> <span class="nf">stress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>        <span class="c1"># TODO: Why do we have this property and stressedSyllableIndicies?</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>        <span class="n">stressList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>                <span class="n">stressList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasSecondaryStress</span><span class="p">:</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>                <span class="n">stressList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>        <span class="k">return</span> <span class="n">stressList</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Syllabification in plain list representation&quot;&quot;&quot;</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>    <span class="k">def</span> <span class="nf">desyllabify</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Down convert this Syllabification to a PhonemeList&quot;&quot;&quot;</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>            <span class="p">[</span><span class="n">phone</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>        <span class="p">)</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>    <span class="k">def</span> <span class="nf">stretch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lengthen the source syllabification based on a target syllabification</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a><span class="sd">        This works by first desllabifying the two syllabifications, adjusting the</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a><span class="sd">        length by inserting spaces, and then resyllabifying.  The target&#39;s syllable</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a><span class="sd">        structure has no influence on the output.</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="sd">        ```python</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a><span class="sd">        a = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;n&quot;]])</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a><span class="sd">        b = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;ɪ&quot;, &quot;n&quot;]])</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="sd">        print(a.stretch(b).toList())</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a><span class="sd">        &gt;&gt; [[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;&#39;&#39;&quot;, &quot;n&quot;]]</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">        ```</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">        TODO: The more different the source and target are, the more meaningless</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">              the results become.</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>        <span class="c1"># Make the two pronunciations the same length</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>        <span class="n">alignedP</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>            <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">(),</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>        <span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_postAlignAdjustment</span><span class="p">(</span><span class="n">alignedP</span><span class="p">)</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>    <span class="k">def</span> <span class="nf">_postAlignAdjustment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">adjustedPhoneList</span><span class="p">:</span> <span class="n">PhonemeList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserts spaces into a syllable if needed</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="sd">        Originally this Syllabification and the adjustedPhoneList</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a><span class="sd">        contained the same number of phones.  But the adjustedPhoneList</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a><span class="sd">        may have some insertions which are not accounted for in the</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">        syllableList.</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>        <span class="c1"># TODO: This method is spagetti code</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>        <span class="n">retSyllableList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>        <span class="k">for</span> <span class="n">syllableNum</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>            <span class="n">phones</span> <span class="o">=</span> <span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>            <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">phones</span><span class="p">)</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>            <span class="k">if</span> <span class="n">syllableNum</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>                <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>            <span class="n">tmpPhoneList</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>            <span class="n">numBlanks</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>            <span class="n">phoneList</span> <span class="o">=</span> <span class="n">tmpPhoneList</span><span class="p">[:]</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>            <span class="k">while</span> <span class="n">numBlanks</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>                <span class="n">numBlanks</span> <span class="o">=</span> <span class="n">tmpPhoneList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>                <span class="k">if</span> <span class="n">numBlanks</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>                    <span class="n">tmpPhoneList</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="n">numBlanks</span><span class="p">]</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>                    <span class="n">phoneList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tmpPhoneList</span><span class="p">)</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>                    <span class="n">j</span> <span class="o">+=</span> <span class="n">numBlanks</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">phone</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">phoneList</span><span class="p">):</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>                <span class="k">if</span> <span class="n">phone</span> <span class="o">==</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">:</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>                    <span class="n">phones</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>            <span class="n">i</span> <span class="o">+=</span> <span class="n">j</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>            <span class="n">retSyllableList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phones</span><span class="p">)</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>        <span class="c1"># TODO: What to do about stress?</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span><span class="n">retSyllableList</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[])</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a><span class="k">class</span> <span class="nc">Entry</span><span class="p">:</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Representation for a single line in the Isle dictionary</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a><span class="sd">    Attributes:</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="sd">        word: the word for this Entry (eg &#39;cat&#39;)</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">        syllabificationList: the syllabification for this Entry</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">            (eg [[[&#39;k&#39;, &#39;a&#39;, &#39;t&#39;]]]); it&#39;s represented by a List of Lists</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a><span class="sd">            of Lists of strings because:</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a><span class="sd">            - multiple words can be part of the same entry</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a><span class="sd">            - each word can have multiple syllables</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a><span class="sd">            - each syllable can have multiple phones</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="sd">        phonemeList: the syllabification in this entry, with syllable</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a><span class="sd">            information removed</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a><span class="sd">        posList: the part of speech associated with this word</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        hasStress: True if the syllabification in this entry contains stress</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>        <span class="n">syllabificationList</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]],</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>        <span class="n">posList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>    <span class="p">):</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word</span> <span class="o">=</span> <span class="n">word</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>            <span class="n">_toSyllabification</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>            <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="n">syllabificationList</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>        <span class="p">]</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">posList</span> <span class="o">=</span> <span class="n">posList</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Entry</span><span class="p">):</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>        <span class="n">isEqual</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">word</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">posList</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>        <span class="k">return</span> <span class="n">isEqual</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>    <span class="nd">@property</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>        <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">:</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>            <span class="k">if</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>    <span class="nd">@property</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>    <span class="k">def</span> <span class="nf">phonemeList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>        <span class="n">phoneList</span> <span class="o">=</span> <span class="n">PhonemeList</span><span class="p">([])</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>        <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">:</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>            <span class="n">phoneList</span> <span class="o">=</span> <span class="n">phoneList</span> <span class="o">+</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="k">return</span> <span class="n">phoneList</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>            <span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span> <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>        <span class="p">]</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>    <span class="k">def</span> <span class="nf">toDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>            <span class="s2">&quot;word&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>            <span class="s2">&quot;syllabificationList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">toList</span><span class="p">(),</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>            <span class="s2">&quot;posList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">,</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>        <span class="p">}</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>    <span class="k">def</span> <span class="nf">findClosestPronunciation</span><span class="p">(</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">]</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">]:</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the entry from the given list that is most like this entry</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a><span class="sd">        Similarity between entries is done by comparing desyllabified forms</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>        <span class="k">def</span> <span class="nf">diffCount</span><span class="p">(</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>            <span class="n">currentSyllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>            <span class="n">currentPhoneList</span> <span class="o">=</span> <span class="n">currentSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>            <span class="n">targetPhoneList</span> <span class="o">=</span> <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>            <span class="c1"># Make the two pronunciations the same length (using a simplified</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>            <span class="c1"># version of each)</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a>            <span class="n">alignedP</span><span class="p">,</span> <span class="n">alignedTargetP</span> <span class="o">=</span> <span class="n">currentPhoneList</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>                <span class="n">targetPhoneList</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>            <span class="p">)</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>            <span class="k">return</span> <span class="n">alignedP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>                <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>            <span class="p">)</span> <span class="o">+</span> <span class="n">alignedTargetP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>        <span class="n">numDiffList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>        <span class="n">withStress</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>        <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>            <span class="n">numDiff</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>            <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>            <span class="n">modifiedSyllabificationList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>            <span class="k">for</span> <span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>                <span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>            <span class="p">):</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>                <span class="n">modifiedSyllabificationList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>                    <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">stretch</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>                <span class="p">)</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a>                <span class="n">numDiff</span> <span class="o">+=</span> <span class="n">diffCount</span><span class="p">(</span><span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">)</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>                <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>                    <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>            <span class="n">numDiffList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numDiff</span><span class="p">)</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a>            <span class="n">withStress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hasStress</span><span class="p">)</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>            <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a>                <span class="n">modifiedSyllabificationList</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>            <span class="p">)</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a>        <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">_chooseMostSimilarWithStress</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">,</span> <span class="n">withStress</span><span class="p">)</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FindClosestError</span><span class="p">(</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a>                <span class="s2">&quot;Unexpected error: Could not choose a closest pronunciation.&quot;</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a>            <span class="p">)</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a>        <span class="n">closestEntry</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a>        <span class="n">modifiedTargetSyllabification</span> <span class="o">=</span> <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">[</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a>            <span class="n">bestIndex</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a>        <span class="p">]</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a>        <span class="n">constructedEntry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="n">modifiedTargetSyllabification</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">)</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">closestEntry</span><span class="p">,</span> <span class="n">constructedEntry</span><span class="p">)</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a><span class="k">def</span> <span class="nf">_toPhonemeList</span><span class="p">(</span><span class="n">phoneList</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PhonemeList</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to unify the input to be PhonemeList&quot;&quot;&quot;</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">phoneList</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="n">phoneList</span><span class="p">)</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">phoneList</span><span class="p">,</span> <span class="n">PhonemeList</span><span class="p">):</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a>        <span class="k">return</span> <span class="n">phoneList</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a>    <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a><span class="k">def</span> <span class="nf">_toSyllabification</span><span class="p">(</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a>    <span class="n">syllabification</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Syllabification</span><span class="p">:</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to unify the input to be a Syllabification&quot;&quot;&quot;</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syllabification</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syllabification</span><span class="p">,</span> <span class="n">Syllabification</span><span class="p">):</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>        <span class="k">return</span> <span class="n">syllabification</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a>    <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a><span class="k">def</span> <span class="nf">_toSyllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Syllable</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Syllable</span><span class="p">:</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to unify the input to be a Syllable&quot;&quot;&quot;</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syllable</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a>        <span class="k">return</span> <span class="n">Syllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syllable</span><span class="p">,</span> <span class="n">Syllable</span><span class="p">):</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a>        <span class="k">return</span> <span class="n">syllable</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a>    <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a><span class="k">def</span> <span class="nf">_chooseMostSimilarWithStress</span><span class="p">(</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>    <span class="n">numDiffList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">withStress</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Choose the index with the smallest number of differences; prefer stressed options</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a><span class="sd">    If two indicies are tied for the smallest number of differences, choose a stressed</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a><span class="sd">    one over an unstressed.</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a><span class="sd">    If two indicies are tied for the smallest number of differences and are equal in</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a><span class="sd">    stress status, choose the first option.</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a><span class="sd">    numDiffList and withStress should be the same length</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>    <span class="n">minDiff</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">)</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>    <span class="c1"># When there are multiple candidates that have the minimum number</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a>    <span class="c1">#     of differences, prefer one that has stress in it</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a>    <span class="n">bestIndex</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a>    <span class="n">bestIsStressed</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">numDiff</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">):</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a>        <span class="k">if</span> <span class="n">numDiff</span> <span class="o">!=</span> <span class="n">minDiff</span><span class="p">:</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a>            <span class="k">continue</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>            <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">i</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a>            <span class="n">bestIsStressed</span> <span class="o">=</span> <span class="n">withStress</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">bestIsStressed</span> <span class="ow">and</span> <span class="n">withStress</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a>                <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">i</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a>                <span class="n">bestIsStressed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>    <span class="k">return</span> <span class="n">bestIndex</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a><span class="k">def</span> <span class="nf">_findStress</span><span class="p">(</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>    <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the syllable and phone indicies for stress annotations&quot;&quot;&quot;</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>    <span class="n">tmpSyllables</span> <span class="o">=</span> <span class="p">[</span><span class="n">_toSyllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllables</span><span class="p">]</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>    <span class="n">stressedSyllables</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>    <span class="n">stressedPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>    <span class="k">for</span> <span class="n">syllableI</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tmpSyllables</span><span class="p">):</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a>        <span class="k">for</span> <span class="n">phoneI</span><span class="p">,</span> <span class="n">phone</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">):</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>            <span class="k">if</span> <span class="s2">&quot;ˈ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a>                <span class="n">stressedSyllables</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">syllableI</span><span class="p">)</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a>                <span class="n">stressedPhones</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">phoneI</span><span class="p">)</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a>                <span class="k">break</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a>            <span class="k">if</span> <span class="s2">&quot;ˌ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a>                <span class="n">stressedSyllables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">syllableI</span><span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a>                <span class="n">stressedPhones</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phoneI</span><span class="p">)</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a>    <span class="k">return</span> <span class="n">stressedSyllables</span><span class="p">,</span> <span class="n">stressedPhones</span>
</span></pre></div>


            </section>
                <section id="isVowel">
                            <input id="isVowel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isVowel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">char</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="isVowel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#isVowel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="isVowel-18"><a href="#isVowel-18"><span class="linenos">18</span></a><span class="k">def</span> <span class="nf">isVowel</span><span class="p">(</span><span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="isVowel-19"><a href="#isVowel-19"><span class="linenos">19</span></a>    <span class="k">return</span> <span class="nb">any</span><span class="p">([</span><span class="n">vowel</span> <span class="ow">in</span> <span class="n">char</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">vowelList</span><span class="p">])</span>
</span></pre></div>


    

                </section>
                <section id="isRhotic">
                            <input id="isRhotic-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isRhotic</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">char</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="isRhotic-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#isRhotic"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="isRhotic-22"><a href="#isRhotic-22"><span class="linenos">22</span></a><span class="k">def</span> <span class="nf">isRhotic</span><span class="p">(</span><span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="isRhotic-23"><a href="#isRhotic-23"><span class="linenos">23</span></a>    <span class="k">return</span> <span class="nb">any</span><span class="p">([</span><span class="n">rhotic</span> <span class="ow">in</span> <span class="n">char</span> <span class="k">for</span> <span class="n">rhotic</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">rhotics</span><span class="p">])</span>
</span></pre></div>


    

                </section>
                <section id="AbstractPhonemeList">
                            <input id="AbstractPhonemeList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AbstractPhonemeList</span><wbr>(<span class="base">abc.ABC</span>):

                <label class="view-source-button" for="AbstractPhonemeList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AbstractPhonemeList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AbstractPhonemeList-29"><a href="#AbstractPhonemeList-29"><span class="linenos">29</span></a><span class="k">class</span> <span class="nc">AbstractPhonemeList</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="AbstractPhonemeList-30"><a href="#AbstractPhonemeList-30"><span class="linenos">30</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for a list of phonemes&quot;&quot;&quot;</span>
</span><span id="AbstractPhonemeList-31"><a href="#AbstractPhonemeList-31"><span class="linenos">31</span></a>
</span><span id="AbstractPhonemeList-32"><a href="#AbstractPhonemeList-32"><span class="linenos">32</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="AbstractPhonemeList-33"><a href="#AbstractPhonemeList-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]):</span>
</span><span id="AbstractPhonemeList-34"><a href="#AbstractPhonemeList-34"><span class="linenos">34</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">NullPhoneError</span><span class="p">()</span>
</span><span id="AbstractPhonemeList-35"><a href="#AbstractPhonemeList-35"><span class="linenos">35</span></a>
</span><span id="AbstractPhonemeList-36"><a href="#AbstractPhonemeList-36"><span class="linenos">36</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">=</span> <span class="n">phonemes</span>
</span><span id="AbstractPhonemeList-37"><a href="#AbstractPhonemeList-37"><span class="linenos">37</span></a>
</span><span id="AbstractPhonemeList-38"><a href="#AbstractPhonemeList-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AbstractPhonemeList-39"><a href="#AbstractPhonemeList-39"><span class="linenos">39</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="AbstractPhonemeList-40"><a href="#AbstractPhonemeList-40"><span class="linenos">40</span></a>
</span><span id="AbstractPhonemeList-41"><a href="#AbstractPhonemeList-41"><span class="linenos">41</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="AbstractPhonemeList-42"><a href="#AbstractPhonemeList-42"><span class="linenos">42</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="AbstractPhonemeList-43"><a href="#AbstractPhonemeList-43"><span class="linenos">43</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="AbstractPhonemeList-44"><a href="#AbstractPhonemeList-44"><span class="linenos">44</span></a>
</span><span id="AbstractPhonemeList-45"><a href="#AbstractPhonemeList-45"><span class="linenos">45</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">phonemes</span>
</span><span id="AbstractPhonemeList-46"><a href="#AbstractPhonemeList-46"><span class="linenos">46</span></a>
</span><span id="AbstractPhonemeList-47"><a href="#AbstractPhonemeList-47"><span class="linenos">47</span></a>    <span class="k">def</span> <span class="nf">stripDiacritics</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="AbstractPhonemeList-48"><a href="#AbstractPhonemeList-48"><span class="linenos">48</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes diacritics from phones&quot;&quot;&quot;</span>
</span><span id="AbstractPhonemeList-49"><a href="#AbstractPhonemeList-49"><span class="linenos">49</span></a>        <span class="c1"># TODO: make more comprehensive</span>
</span><span id="AbstractPhonemeList-50"><a href="#AbstractPhonemeList-50"><span class="linenos">50</span></a>        <span class="n">newPhonemes</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;[˺ˌˈ]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">phone</span><span class="p">)</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="AbstractPhonemeList-51"><a href="#AbstractPhonemeList-51"><span class="linenos">51</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">newPhonemes</span><span class="p">)</span>
</span><span id="AbstractPhonemeList-52"><a href="#AbstractPhonemeList-52"><span class="linenos">52</span></a>
</span><span id="AbstractPhonemeList-53"><a href="#AbstractPhonemeList-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">simplify</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="AbstractPhonemeList-54"><a href="#AbstractPhonemeList-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simplifies pronunciation</span>
</span><span id="AbstractPhonemeList-55"><a href="#AbstractPhonemeList-55"><span class="linenos">55</span></a>
</span><span id="AbstractPhonemeList-56"><a href="#AbstractPhonemeList-56"><span class="linenos">56</span></a><span class="sd">        - Removes diacritics</span>
</span><span id="AbstractPhonemeList-57"><a href="#AbstractPhonemeList-57"><span class="linenos">57</span></a><span class="sd">        - Unifies vowels and rhotics</span>
</span><span id="AbstractPhonemeList-58"><a href="#AbstractPhonemeList-58"><span class="linenos">58</span></a><span class="sd">        - Reduces all phonemes to one character</span>
</span><span id="AbstractPhonemeList-59"><a href="#AbstractPhonemeList-59"><span class="linenos">59</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AbstractPhonemeList-60"><a href="#AbstractPhonemeList-60"><span class="linenos">60</span></a>        <span class="n">simplifiedPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="AbstractPhonemeList-61"><a href="#AbstractPhonemeList-61"><span class="linenos">61</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="AbstractPhonemeList-62"><a href="#AbstractPhonemeList-62"><span class="linenos">62</span></a>            <span class="k">for</span> <span class="n">diacritic</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">diacriticList</span><span class="p">:</span>
</span><span id="AbstractPhonemeList-63"><a href="#AbstractPhonemeList-63"><span class="linenos">63</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">diacritic</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="AbstractPhonemeList-64"><a href="#AbstractPhonemeList-64"><span class="linenos">64</span></a>
</span><span id="AbstractPhonemeList-65"><a href="#AbstractPhonemeList-65"><span class="linenos">65</span></a>            <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="AbstractPhonemeList-66"><a href="#AbstractPhonemeList-66"><span class="linenos">66</span></a>            <span class="k">if</span> <span class="n">isRhotic</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>  <span class="c1"># Unify rhotics</span>
</span><span id="AbstractPhonemeList-67"><a href="#AbstractPhonemeList-67"><span class="linenos">67</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span>
</span><span id="AbstractPhonemeList-68"><a href="#AbstractPhonemeList-68"><span class="linenos">68</span></a>            <span class="k">elif</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>
</span><span id="AbstractPhonemeList-69"><a href="#AbstractPhonemeList-69"><span class="linenos">69</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;V&quot;</span>
</span><span id="AbstractPhonemeList-70"><a href="#AbstractPhonemeList-70"><span class="linenos">70</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="AbstractPhonemeList-71"><a href="#AbstractPhonemeList-71"><span class="linenos">71</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="AbstractPhonemeList-72"><a href="#AbstractPhonemeList-72"><span class="linenos">72</span></a>
</span><span id="AbstractPhonemeList-73"><a href="#AbstractPhonemeList-73"><span class="linenos">73</span></a>            <span class="n">simplifiedPhones</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
</span><span id="AbstractPhonemeList-74"><a href="#AbstractPhonemeList-74"><span class="linenos">74</span></a>
</span><span id="AbstractPhonemeList-75"><a href="#AbstractPhonemeList-75"><span class="linenos">75</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">simplifiedPhones</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Base class for a list of phonemes</p>
</div>


                            <div id="AbstractPhonemeList.__init__" class="classattr">
                                        <input id="AbstractPhonemeList.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AbstractPhonemeList</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span>)</span>

                <label class="view-source-button" for="AbstractPhonemeList.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AbstractPhonemeList.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AbstractPhonemeList.__init__-32"><a href="#AbstractPhonemeList.__init__-32"><span class="linenos">32</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="AbstractPhonemeList.__init__-33"><a href="#AbstractPhonemeList.__init__-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]):</span>
</span><span id="AbstractPhonemeList.__init__-34"><a href="#AbstractPhonemeList.__init__-34"><span class="linenos">34</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">NullPhoneError</span><span class="p">()</span>
</span><span id="AbstractPhonemeList.__init__-35"><a href="#AbstractPhonemeList.__init__-35"><span class="linenos">35</span></a>
</span><span id="AbstractPhonemeList.__init__-36"><a href="#AbstractPhonemeList.__init__-36"><span class="linenos">36</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">=</span> <span class="n">phonemes</span>
</span></pre></div>


    

                            </div>
                            <div id="AbstractPhonemeList.stripDiacritics" class="classattr">
                                        <input id="AbstractPhonemeList.stripDiacritics-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">stripDiacritics</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span><span class="p">:</span> <span class="o">~</span><span class="n">T</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="AbstractPhonemeList.stripDiacritics-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AbstractPhonemeList.stripDiacritics"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AbstractPhonemeList.stripDiacritics-47"><a href="#AbstractPhonemeList.stripDiacritics-47"><span class="linenos">47</span></a>    <span class="k">def</span> <span class="nf">stripDiacritics</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="AbstractPhonemeList.stripDiacritics-48"><a href="#AbstractPhonemeList.stripDiacritics-48"><span class="linenos">48</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes diacritics from phones&quot;&quot;&quot;</span>
</span><span id="AbstractPhonemeList.stripDiacritics-49"><a href="#AbstractPhonemeList.stripDiacritics-49"><span class="linenos">49</span></a>        <span class="c1"># TODO: make more comprehensive</span>
</span><span id="AbstractPhonemeList.stripDiacritics-50"><a href="#AbstractPhonemeList.stripDiacritics-50"><span class="linenos">50</span></a>        <span class="n">newPhonemes</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;[˺ˌˈ]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">phone</span><span class="p">)</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="AbstractPhonemeList.stripDiacritics-51"><a href="#AbstractPhonemeList.stripDiacritics-51"><span class="linenos">51</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">newPhonemes</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Removes diacritics from phones</p>
</div>


                            </div>
                            <div id="AbstractPhonemeList.simplify" class="classattr">
                                        <input id="AbstractPhonemeList.simplify-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">simplify</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span><span class="p">:</span> <span class="o">~</span><span class="n">T</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="AbstractPhonemeList.simplify-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AbstractPhonemeList.simplify"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AbstractPhonemeList.simplify-53"><a href="#AbstractPhonemeList.simplify-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">simplify</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="AbstractPhonemeList.simplify-54"><a href="#AbstractPhonemeList.simplify-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simplifies pronunciation</span>
</span><span id="AbstractPhonemeList.simplify-55"><a href="#AbstractPhonemeList.simplify-55"><span class="linenos">55</span></a>
</span><span id="AbstractPhonemeList.simplify-56"><a href="#AbstractPhonemeList.simplify-56"><span class="linenos">56</span></a><span class="sd">        - Removes diacritics</span>
</span><span id="AbstractPhonemeList.simplify-57"><a href="#AbstractPhonemeList.simplify-57"><span class="linenos">57</span></a><span class="sd">        - Unifies vowels and rhotics</span>
</span><span id="AbstractPhonemeList.simplify-58"><a href="#AbstractPhonemeList.simplify-58"><span class="linenos">58</span></a><span class="sd">        - Reduces all phonemes to one character</span>
</span><span id="AbstractPhonemeList.simplify-59"><a href="#AbstractPhonemeList.simplify-59"><span class="linenos">59</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AbstractPhonemeList.simplify-60"><a href="#AbstractPhonemeList.simplify-60"><span class="linenos">60</span></a>        <span class="n">simplifiedPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="AbstractPhonemeList.simplify-61"><a href="#AbstractPhonemeList.simplify-61"><span class="linenos">61</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="AbstractPhonemeList.simplify-62"><a href="#AbstractPhonemeList.simplify-62"><span class="linenos">62</span></a>            <span class="k">for</span> <span class="n">diacritic</span> <span class="ow">in</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">diacriticList</span><span class="p">:</span>
</span><span id="AbstractPhonemeList.simplify-63"><a href="#AbstractPhonemeList.simplify-63"><span class="linenos">63</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">diacritic</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="AbstractPhonemeList.simplify-64"><a href="#AbstractPhonemeList.simplify-64"><span class="linenos">64</span></a>
</span><span id="AbstractPhonemeList.simplify-65"><a href="#AbstractPhonemeList.simplify-65"><span class="linenos">65</span></a>            <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="AbstractPhonemeList.simplify-66"><a href="#AbstractPhonemeList.simplify-66"><span class="linenos">66</span></a>            <span class="k">if</span> <span class="n">isRhotic</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>  <span class="c1"># Unify rhotics</span>
</span><span id="AbstractPhonemeList.simplify-67"><a href="#AbstractPhonemeList.simplify-67"><span class="linenos">67</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span>
</span><span id="AbstractPhonemeList.simplify-68"><a href="#AbstractPhonemeList.simplify-68"><span class="linenos">68</span></a>            <span class="k">elif</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>
</span><span id="AbstractPhonemeList.simplify-69"><a href="#AbstractPhonemeList.simplify-69"><span class="linenos">69</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="s2">&quot;V&quot;</span>
</span><span id="AbstractPhonemeList.simplify-70"><a href="#AbstractPhonemeList.simplify-70"><span class="linenos">70</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="AbstractPhonemeList.simplify-71"><a href="#AbstractPhonemeList.simplify-71"><span class="linenos">71</span></a>                <span class="n">phone</span> <span class="o">=</span> <span class="n">phone</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="AbstractPhonemeList.simplify-72"><a href="#AbstractPhonemeList.simplify-72"><span class="linenos">72</span></a>
</span><span id="AbstractPhonemeList.simplify-73"><a href="#AbstractPhonemeList.simplify-73"><span class="linenos">73</span></a>            <span class="n">simplifiedPhones</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
</span><span id="AbstractPhonemeList.simplify-74"><a href="#AbstractPhonemeList.simplify-74"><span class="linenos">74</span></a>
</span><span id="AbstractPhonemeList.simplify-75"><a href="#AbstractPhonemeList.simplify-75"><span class="linenos">75</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">simplifiedPhones</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Simplifies pronunciation</p>

<ul>
<li>Removes diacritics</li>
<li>Unifies vowels and rhotics</li>
<li>Reduces all phonemes to one character</li>
</ul>
</div>


                            </div>
                </section>
                <section id="PhonemeList">
                            <input id="PhonemeList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PhonemeList</span><wbr>(<span class="base"><a href="#AbstractPhonemeList">AbstractPhonemeList</a></span>):

                <label class="view-source-button" for="PhonemeList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PhonemeList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PhonemeList-78"><a href="#PhonemeList-78"><span class="linenos"> 78</span></a><span class="k">class</span> <span class="nc">PhonemeList</span><span class="p">(</span><span class="n">AbstractPhonemeList</span><span class="p">):</span>
</span><span id="PhonemeList-79"><a href="#PhonemeList-79"><span class="linenos"> 79</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of phonemes</span>
</span><span id="PhonemeList-80"><a href="#PhonemeList-80"><span class="linenos"> 80</span></a>
</span><span id="PhonemeList-81"><a href="#PhonemeList-81"><span class="linenos"> 81</span></a><span class="sd">    Attributes:</span>
</span><span id="PhonemeList-82"><a href="#PhonemeList-82"><span class="linenos"> 82</span></a><span class="sd">        phonemes: The list of phonemes</span>
</span><span id="PhonemeList-83"><a href="#PhonemeList-83"><span class="linenos"> 83</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PhonemeList-84"><a href="#PhonemeList-84"><span class="linenos"> 84</span></a>
</span><span id="PhonemeList-85"><a href="#PhonemeList-85"><span class="linenos"> 85</span></a>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">):</span>
</span><span id="PhonemeList-86"><a href="#PhonemeList-86"><span class="linenos"> 86</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="PhonemeList-87"><a href="#PhonemeList-87"><span class="linenos"> 87</span></a>
</span><span id="PhonemeList-88"><a href="#PhonemeList-88"><span class="linenos"> 88</span></a>    <span class="k">def</span> <span class="nf">findBestSyllabification</span><span class="p">(</span>
</span><span id="PhonemeList-89"><a href="#PhonemeList-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="PhonemeList-90"><a href="#PhonemeList-90"><span class="linenos"> 90</span></a>        <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">],</span>
</span><span id="PhonemeList-91"><a href="#PhonemeList-91"><span class="linenos"> 91</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="PhonemeList-92"><a href="#PhonemeList-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds the closest entry to the PhonemeList and uses it as the model Syllabification</span>
</span><span id="PhonemeList-93"><a href="#PhonemeList-93"><span class="linenos"> 93</span></a>
</span><span id="PhonemeList-94"><a href="#PhonemeList-94"><span class="linenos"> 94</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="PhonemeList-95"><a href="#PhonemeList-95"><span class="linenos"> 95</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="PhonemeList-96"><a href="#PhonemeList-96"><span class="linenos"> 96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList-97"><a href="#PhonemeList-97"><span class="linenos"> 97</span></a>        <span class="n">syllabification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="PhonemeList-98"><a href="#PhonemeList-98"><span class="linenos"> 98</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabify</span><span class="p">(</span>
</span><span id="PhonemeList-99"><a href="#PhonemeList-99"><span class="linenos"> 99</span></a>            <span class="n">syllabification</span><span class="p">,</span> <span class="n">onSizeError</span><span class="o">=</span><span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="o">.</span><span class="n">SILENCE</span>
</span><span id="PhonemeList-100"><a href="#PhonemeList-100"><span class="linenos">100</span></a>        <span class="p">)</span>
</span><span id="PhonemeList-101"><a href="#PhonemeList-101"><span class="linenos">101</span></a>
</span><span id="PhonemeList-102"><a href="#PhonemeList-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="nf">findClosestEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Entry&quot;</span><span class="p">:</span>
</span><span id="PhonemeList-103"><a href="#PhonemeList-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PhonemeList-104"><a href="#PhonemeList-104"><span class="linenos">104</span></a><span class="sd">        Finds the closest Entry to this PhonemeList</span>
</span><span id="PhonemeList-105"><a href="#PhonemeList-105"><span class="linenos">105</span></a>
</span><span id="PhonemeList-106"><a href="#PhonemeList-106"><span class="linenos">106</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="PhonemeList-107"><a href="#PhonemeList-107"><span class="linenos">107</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="PhonemeList-108"><a href="#PhonemeList-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList-109"><a href="#PhonemeList-109"><span class="linenos">109</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="PhonemeList-110"><a href="#PhonemeList-110"><span class="linenos">110</span></a>
</span><span id="PhonemeList-111"><a href="#PhonemeList-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">syllabify</span><span class="p">(</span>
</span><span id="PhonemeList-112"><a href="#PhonemeList-112"><span class="linenos">112</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="PhonemeList-113"><a href="#PhonemeList-113"><span class="linenos">113</span></a>        <span class="n">syllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">,</span>
</span><span id="PhonemeList-114"><a href="#PhonemeList-114"><span class="linenos">114</span></a>        <span class="n">onSizeError</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;silence&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span>
</span><span id="PhonemeList-115"><a href="#PhonemeList-115"><span class="linenos">115</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="PhonemeList-116"><a href="#PhonemeList-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Up convert a PhonemeList to a Syllabification</span>
</span><span id="PhonemeList-117"><a href="#PhonemeList-117"><span class="linenos">117</span></a>
</span><span id="PhonemeList-118"><a href="#PhonemeList-118"><span class="linenos">118</span></a><span class="sd">        This requires a syllabification to model after. This is a best-effort</span>
</span><span id="PhonemeList-119"><a href="#PhonemeList-119"><span class="linenos">119</span></a><span class="sd">        conversion. For best results, the syllabification should be as close</span>
</span><span id="PhonemeList-120"><a href="#PhonemeList-120"><span class="linenos">120</span></a><span class="sd">        to this phone list, in terms of phones.</span>
</span><span id="PhonemeList-121"><a href="#PhonemeList-121"><span class="linenos">121</span></a>
</span><span id="PhonemeList-122"><a href="#PhonemeList-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="PhonemeList-123"><a href="#PhonemeList-123"><span class="linenos">123</span></a><span class="sd">            syllabification: the model syllabification to map onto this PhonemeList</span>
</span><span id="PhonemeList-124"><a href="#PhonemeList-124"><span class="linenos">124</span></a><span class="sd">            onSizeError: determines the behavior when the syllabification has a</span>
</span><span id="PhonemeList-125"><a href="#PhonemeList-125"><span class="linenos">125</span></a><span class="sd">                different number of phonemes from this PhonemeList</span>
</span><span id="PhonemeList-126"><a href="#PhonemeList-126"><span class="linenos">126</span></a>
</span><span id="PhonemeList-127"><a href="#PhonemeList-127"><span class="linenos">127</span></a><span class="sd">        Returns:</span>
</span><span id="PhonemeList-128"><a href="#PhonemeList-128"><span class="linenos">128</span></a><span class="sd">            a Syllabification of this PhonemeList</span>
</span><span id="PhonemeList-129"><a href="#PhonemeList-129"><span class="linenos">129</span></a>
</span><span id="PhonemeList-130"><a href="#PhonemeList-130"><span class="linenos">130</span></a><span class="sd">        Raises:</span>
</span><span id="PhonemeList-131"><a href="#PhonemeList-131"><span class="linenos">131</span></a><span class="sd">            SyllabificationError: when the length of the PhonemeList does not match the</span>
</span><span id="PhonemeList-132"><a href="#PhonemeList-132"><span class="linenos">132</span></a><span class="sd">                model Syllabification</span>
</span><span id="PhonemeList-133"><a href="#PhonemeList-133"><span class="linenos">133</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList-134"><a href="#PhonemeList-134"><span class="linenos">134</span></a>        <span class="n">utils</span><span class="o">.</span><span class="n">validateOption</span><span class="p">(</span><span class="s2">&quot;onSizeError&quot;</span><span class="p">,</span> <span class="n">onSizeError</span><span class="p">,</span> <span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="p">)</span>
</span><span id="PhonemeList-135"><a href="#PhonemeList-135"><span class="linenos">135</span></a>        <span class="n">errorReporter</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">getErrorReporter</span><span class="p">(</span><span class="n">onSizeError</span><span class="p">)</span>
</span><span id="PhonemeList-136"><a href="#PhonemeList-136"><span class="linenos">136</span></a>
</span><span id="PhonemeList-137"><a href="#PhonemeList-137"><span class="linenos">137</span></a>        <span class="n">numPhoneList</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span><span id="PhonemeList-138"><a href="#PhonemeList-138"><span class="linenos">138</span></a>
</span><span id="PhonemeList-139"><a href="#PhonemeList-139"><span class="linenos">139</span></a>        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="PhonemeList-140"><a href="#PhonemeList-140"><span class="linenos">140</span></a>        <span class="n">syllabifiedList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-141"><a href="#PhonemeList-141"><span class="linenos">141</span></a>        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">numPhoneList</span><span class="p">:</span>
</span><span id="PhonemeList-142"><a href="#PhonemeList-142"><span class="linenos">142</span></a>
</span><span id="PhonemeList-143"><a href="#PhonemeList-143"><span class="linenos">143</span></a>            <span class="n">syllable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">]</span>
</span><span id="PhonemeList-144"><a href="#PhonemeList-144"><span class="linenos">144</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="PhonemeList-145"><a href="#PhonemeList-145"><span class="linenos">145</span></a>                <span class="n">syllabifiedList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span>
</span><span id="PhonemeList-146"><a href="#PhonemeList-146"><span class="linenos">146</span></a>
</span><span id="PhonemeList-147"><a href="#PhonemeList-147"><span class="linenos">147</span></a>            <span class="n">start</span> <span class="o">+=</span> <span class="n">end</span>
</span><span id="PhonemeList-148"><a href="#PhonemeList-148"><span class="linenos">148</span></a>
</span><span id="PhonemeList-149"><a href="#PhonemeList-149"><span class="linenos">149</span></a>        <span class="n">targetLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="PhonemeList-150"><a href="#PhonemeList-150"><span class="linenos">150</span></a>        <span class="n">actualLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">)</span>
</span><span id="PhonemeList-151"><a href="#PhonemeList-151"><span class="linenos">151</span></a>        <span class="n">targetNumPhones</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">())</span>
</span><span id="PhonemeList-152"><a href="#PhonemeList-152"><span class="linenos">152</span></a>
</span><span id="PhonemeList-153"><a href="#PhonemeList-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">targetLen</span> <span class="o">&gt;</span> <span class="n">actualLen</span><span class="p">:</span>
</span><span id="PhonemeList-154"><a href="#PhonemeList-154"><span class="linenos">154</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="PhonemeList-155"><a href="#PhonemeList-155"><span class="linenos">155</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="PhonemeList-156"><a href="#PhonemeList-156"><span class="linenos">156</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too long for the input &quot;</span>
</span><span id="PhonemeList-157"><a href="#PhonemeList-157"><span class="linenos">157</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the output has been truncated (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="PhonemeList-158"><a href="#PhonemeList-158"><span class="linenos">158</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-159"><a href="#PhonemeList-159"><span class="linenos">159</span></a>        <span class="k">elif</span> <span class="n">targetNumPhones</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">):</span>
</span><span id="PhonemeList-160"><a href="#PhonemeList-160"><span class="linenos">160</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="PhonemeList-161"><a href="#PhonemeList-161"><span class="linenos">161</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="PhonemeList-162"><a href="#PhonemeList-162"><span class="linenos">162</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too short for the input &quot;</span>
</span><span id="PhonemeList-163"><a href="#PhonemeList-163"><span class="linenos">163</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the best fit syllabification output is (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="PhonemeList-164"><a href="#PhonemeList-164"><span class="linenos">164</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-165"><a href="#PhonemeList-165"><span class="linenos">165</span></a>
</span><span id="PhonemeList-166"><a href="#PhonemeList-166"><span class="linenos">166</span></a>        <span class="c1"># TODO: Resolve stress properly?</span>
</span><span id="PhonemeList-167"><a href="#PhonemeList-167"><span class="linenos">167</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[])</span>
</span><span id="PhonemeList-168"><a href="#PhonemeList-168"><span class="linenos">168</span></a>
</span><span id="PhonemeList-169"><a href="#PhonemeList-169"><span class="linenos">169</span></a>    <span class="k">def</span> <span class="nf">align</span><span class="p">(</span>
</span><span id="PhonemeList-170"><a href="#PhonemeList-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">targetPhoneList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="PhonemeList-171"><a href="#PhonemeList-171"><span class="linenos">171</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">]:</span>
</span><span id="PhonemeList-172"><a href="#PhonemeList-172"><span class="linenos">172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Align the phones in two pronunciations</span>
</span><span id="PhonemeList-173"><a href="#PhonemeList-173"><span class="linenos">173</span></a>
</span><span id="PhonemeList-174"><a href="#PhonemeList-174"><span class="linenos">174</span></a><span class="sd">        This will find the longest (non-continuous) common sequence and fill in the gaps</span>
</span><span id="PhonemeList-175"><a href="#PhonemeList-175"><span class="linenos">175</span></a><span class="sd">        before, between, and after the characters such that the common elements</span>
</span><span id="PhonemeList-176"><a href="#PhonemeList-176"><span class="linenos">176</span></a><span class="sd">        occur at the same points and the character strings are the same length</span>
</span><span id="PhonemeList-177"><a href="#PhonemeList-177"><span class="linenos">177</span></a>
</span><span id="PhonemeList-178"><a href="#PhonemeList-178"><span class="linenos">178</span></a><span class="sd">        In the following example, the phone lists share the sequence [&#39;a&#39;, &#39;d&#39;]</span>
</span><span id="PhonemeList-179"><a href="#PhonemeList-179"><span class="linenos">179</span></a>
</span><span id="PhonemeList-180"><a href="#PhonemeList-180"><span class="linenos">180</span></a><span class="sd">        ```python</span>
</span><span id="PhonemeList-181"><a href="#PhonemeList-181"><span class="linenos">181</span></a><span class="sd">        phoneListA = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="PhonemeList-182"><a href="#PhonemeList-182"><span class="linenos">182</span></a><span class="sd">        phoneListB = [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &#39;d&#39;, &#39;u&#39;]</span>
</span><span id="PhonemeList-183"><a href="#PhonemeList-183"><span class="linenos">183</span></a><span class="sd">        a, b = alignPronunciations(phoneListA, phoneListB)</span>
</span><span id="PhonemeList-184"><a href="#PhonemeList-184"><span class="linenos">184</span></a><span class="sd">        print(a) &gt; [&quot;&#39;&#39;&quot;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="PhonemeList-185"><a href="#PhonemeList-185"><span class="linenos">185</span></a><span class="sd">        print(b) &gt; [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &quot;&#39;&#39;&quot;, &#39;d&#39;, &#39;u&#39;, &quot;&#39;&#39;&quot;]</span>
</span><span id="PhonemeList-186"><a href="#PhonemeList-186"><span class="linenos">186</span></a><span class="sd">        ```</span>
</span><span id="PhonemeList-187"><a href="#PhonemeList-187"><span class="linenos">187</span></a>
</span><span id="PhonemeList-188"><a href="#PhonemeList-188"><span class="linenos">188</span></a><span class="sd">        Args:</span>
</span><span id="PhonemeList-189"><a href="#PhonemeList-189"><span class="linenos">189</span></a><span class="sd">            targetPhoneList: the PhoneList to align with the current PhoneList</span>
</span><span id="PhonemeList-190"><a href="#PhonemeList-190"><span class="linenos">190</span></a><span class="sd">            simplifiedMatching: if True, use a simplified version of phones, which</span>
</span><span id="PhonemeList-191"><a href="#PhonemeList-191"><span class="linenos">191</span></a><span class="sd">                allows for looser matching; if False, characters must match exactly</span>
</span><span id="PhonemeList-192"><a href="#PhonemeList-192"><span class="linenos">192</span></a><span class="sd">                as is</span>
</span><span id="PhonemeList-193"><a href="#PhonemeList-193"><span class="linenos">193</span></a>
</span><span id="PhonemeList-194"><a href="#PhonemeList-194"><span class="linenos">194</span></a><span class="sd">        Returns:</span>
</span><span id="PhonemeList-195"><a href="#PhonemeList-195"><span class="linenos">195</span></a><span class="sd">            this PhoneList and the targetPhoneList, aligned in length</span>
</span><span id="PhonemeList-196"><a href="#PhonemeList-196"><span class="linenos">196</span></a>
</span><span id="PhonemeList-197"><a href="#PhonemeList-197"><span class="linenos">197</span></a><span class="sd">        Raises:</span>
</span><span id="PhonemeList-198"><a href="#PhonemeList-198"><span class="linenos">198</span></a><span class="sd">            UnexpectedError: hopefully you should never see this</span>
</span><span id="PhonemeList-199"><a href="#PhonemeList-199"><span class="linenos">199</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList-200"><a href="#PhonemeList-200"><span class="linenos">200</span></a>
</span><span id="PhonemeList-201"><a href="#PhonemeList-201"><span class="linenos">201</span></a>        <span class="k">def</span> <span class="nf">_undoSimplification</span><span class="p">(</span>
</span><span id="PhonemeList-202"><a href="#PhonemeList-202"><span class="linenos">202</span></a>            <span class="n">rawPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">phonemeList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span>
</span><span id="PhonemeList-203"><a href="#PhonemeList-203"><span class="linenos">203</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">:</span>
</span><span id="PhonemeList-204"><a href="#PhonemeList-204"><span class="linenos">204</span></a>            <span class="n">rawPhones</span> <span class="o">=</span> <span class="n">rawPhones</span><span class="p">[:]</span>
</span><span id="PhonemeList-205"><a href="#PhonemeList-205"><span class="linenos">205</span></a>            <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="PhonemeList-206"><a href="#PhonemeList-206"><span class="linenos">206</span></a>                <span class="p">[</span>
</span><span id="PhonemeList-207"><a href="#PhonemeList-207"><span class="linenos">207</span></a>                    <span class="n">rawPhones</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PhonemeList-208"><a href="#PhonemeList-208"><span class="linenos">208</span></a>                    <span class="k">if</span> <span class="n">phon</span> <span class="o">!=</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="PhonemeList-209"><a href="#PhonemeList-209"><span class="linenos">209</span></a>                    <span class="k">else</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="PhonemeList-210"><a href="#PhonemeList-210"><span class="linenos">210</span></a>                    <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">phonemeList</span><span class="o">.</span><span class="n">phonemes</span>
</span><span id="PhonemeList-211"><a href="#PhonemeList-211"><span class="linenos">211</span></a>                <span class="p">]</span>
</span><span id="PhonemeList-212"><a href="#PhonemeList-212"><span class="linenos">212</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-213"><a href="#PhonemeList-213"><span class="linenos">213</span></a>
</span><span id="PhonemeList-214"><a href="#PhonemeList-214"><span class="linenos">214</span></a>        <span class="k">if</span> <span class="n">simplifiedMatching</span><span class="p">:</span>
</span><span id="PhonemeList-215"><a href="#PhonemeList-215"><span class="linenos">215</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
</span><span id="PhonemeList-216"><a href="#PhonemeList-216"><span class="linenos">216</span></a>                <span class="n">targetPhoneList</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
</span><span id="PhonemeList-217"><a href="#PhonemeList-217"><span class="linenos">217</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-218"><a href="#PhonemeList-218"><span class="linenos">218</span></a>            <span class="n">alignedSelf</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedSelf</span><span class="p">)</span>
</span><span id="PhonemeList-219"><a href="#PhonemeList-219"><span class="linenos">219</span></a>            <span class="n">alignedTarget</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedTarget</span><span class="p">)</span>
</span><span id="PhonemeList-220"><a href="#PhonemeList-220"><span class="linenos">220</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="PhonemeList-221"><a href="#PhonemeList-221"><span class="linenos">221</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="p">)</span>
</span><span id="PhonemeList-222"><a href="#PhonemeList-222"><span class="linenos">222</span></a>
</span><span id="PhonemeList-223"><a href="#PhonemeList-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedSelf</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedTarget</span><span class="p">):</span>
</span><span id="PhonemeList-224"><a href="#PhonemeList-224"><span class="linenos">224</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">UnexpectedError</span><span class="p">(</span>
</span><span id="PhonemeList-225"><a href="#PhonemeList-225"><span class="linenos">225</span></a>                <span class="s2">&quot;Source and target phone lengths are different but should be the same. &quot;</span>
</span><span id="PhonemeList-226"><a href="#PhonemeList-226"><span class="linenos">226</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">alignedSelf</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">), (</span><span class="si">{</span><span class="n">alignedTarget</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">).  Please report to the developers.&quot;</span>
</span><span id="PhonemeList-227"><a href="#PhonemeList-227"><span class="linenos">227</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-228"><a href="#PhonemeList-228"><span class="linenos">228</span></a>
</span><span id="PhonemeList-229"><a href="#PhonemeList-229"><span class="linenos">229</span></a>        <span class="k">return</span> <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span>
</span><span id="PhonemeList-230"><a href="#PhonemeList-230"><span class="linenos">230</span></a>
</span><span id="PhonemeList-231"><a href="#PhonemeList-231"><span class="linenos">231</span></a>    <span class="k">def</span> <span class="nf">_findClosestEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">]:</span>
</span><span id="PhonemeList-232"><a href="#PhonemeList-232"><span class="linenos">232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds the closest Entry out of those in a list to the current PhonemeList</span>
</span><span id="PhonemeList-233"><a href="#PhonemeList-233"><span class="linenos">233</span></a>
</span><span id="PhonemeList-234"><a href="#PhonemeList-234"><span class="linenos">234</span></a><span class="sd">        Entries are first aligned with this PhonemeList. The entry with the fewest</span>
</span><span id="PhonemeList-235"><a href="#PhonemeList-235"><span class="linenos">235</span></a><span class="sd">        number of changes needed in alignment is considered to be the closest entry.</span>
</span><span id="PhonemeList-236"><a href="#PhonemeList-236"><span class="linenos">236</span></a>
</span><span id="PhonemeList-237"><a href="#PhonemeList-237"><span class="linenos">237</span></a><span class="sd">        Args:</span>
</span><span id="PhonemeList-238"><a href="#PhonemeList-238"><span class="linenos">238</span></a><span class="sd">            entries: the entries to search through</span>
</span><span id="PhonemeList-239"><a href="#PhonemeList-239"><span class="linenos">239</span></a>
</span><span id="PhonemeList-240"><a href="#PhonemeList-240"><span class="linenos">240</span></a><span class="sd">        Returns:</span>
</span><span id="PhonemeList-241"><a href="#PhonemeList-241"><span class="linenos">241</span></a><span class="sd">            both the closest entry and a modified version of the closest entry,</span>
</span><span id="PhonemeList-242"><a href="#PhonemeList-242"><span class="linenos">242</span></a><span class="sd">            morphed to be similar to the source PhonemeList</span>
</span><span id="PhonemeList-243"><a href="#PhonemeList-243"><span class="linenos">243</span></a>
</span><span id="PhonemeList-244"><a href="#PhonemeList-244"><span class="linenos">244</span></a><span class="sd">        Raises:</span>
</span><span id="PhonemeList-245"><a href="#PhonemeList-245"><span class="linenos">245</span></a><span class="sd">            FeatureNotYetAvailableError: For multi-word entries</span>
</span><span id="PhonemeList-246"><a href="#PhonemeList-246"><span class="linenos">246</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList-247"><a href="#PhonemeList-247"><span class="linenos">247</span></a>        <span class="n">numDiffList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-248"><a href="#PhonemeList-248"><span class="linenos">248</span></a>        <span class="n">withStress</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-249"><a href="#PhonemeList-249"><span class="linenos">249</span></a>
</span><span id="PhonemeList-250"><a href="#PhonemeList-250"><span class="linenos">250</span></a>        <span class="n">modifiedSyllabificationLists</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-251"><a href="#PhonemeList-251"><span class="linenos">251</span></a>        <span class="n">targetPhoneListCandidates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PhonemeList</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-252"><a href="#PhonemeList-252"><span class="linenos">252</span></a>        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
</span><span id="PhonemeList-253"><a href="#PhonemeList-253"><span class="linenos">253</span></a>            <span class="c1"># TODO: Add support for multi-word entries (seems tedious for little benefit?)</span>
</span><span id="PhonemeList-254"><a href="#PhonemeList-254"><span class="linenos">254</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="PhonemeList-255"><a href="#PhonemeList-255"><span class="linenos">255</span></a>                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FeatureNotYetAvailableError</span><span class="p">(</span>
</span><span id="PhonemeList-256"><a href="#PhonemeList-256"><span class="linenos">256</span></a>                    <span class="s2">&quot;findClosestEntry does not support multi-word lookup (yet).  Please file an issue to bump priority.&quot;</span>
</span><span id="PhonemeList-257"><a href="#PhonemeList-257"><span class="linenos">257</span></a>                <span class="p">)</span>
</span><span id="PhonemeList-258"><a href="#PhonemeList-258"><span class="linenos">258</span></a>
</span><span id="PhonemeList-259"><a href="#PhonemeList-259"><span class="linenos">259</span></a>            <span class="n">targetSyllabification</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="PhonemeList-260"><a href="#PhonemeList-260"><span class="linenos">260</span></a>            <span class="n">adjustedPhoneList</span><span class="p">,</span> <span class="n">adjustedTargetPhoneList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="PhonemeList-261"><a href="#PhonemeList-261"><span class="linenos">261</span></a>                <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">(),</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="PhonemeList-262"><a href="#PhonemeList-262"><span class="linenos">262</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-263"><a href="#PhonemeList-263"><span class="linenos">263</span></a>
</span><span id="PhonemeList-264"><a href="#PhonemeList-264"><span class="linenos">264</span></a>            <span class="n">numDiff</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="PhonemeList-265"><a href="#PhonemeList-265"><span class="linenos">265</span></a>            <span class="n">numDiff</span> <span class="o">+=</span> <span class="n">adjustedTargetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="PhonemeList-266"><a href="#PhonemeList-266"><span class="linenos">266</span></a>            <span class="n">numDiffList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numDiff</span><span class="p">)</span>
</span><span id="PhonemeList-267"><a href="#PhonemeList-267"><span class="linenos">267</span></a>
</span><span id="PhonemeList-268"><a href="#PhonemeList-268"><span class="linenos">268</span></a>            <span class="n">withStress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">hasStress</span><span class="p">)</span>
</span><span id="PhonemeList-269"><a href="#PhonemeList-269"><span class="linenos">269</span></a>
</span><span id="PhonemeList-270"><a href="#PhonemeList-270"><span class="linenos">270</span></a>            <span class="n">modifiedSyllabificationLists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="PhonemeList-271"><a href="#PhonemeList-271"><span class="linenos">271</span></a>                <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">_postAlignAdjustment</span><span class="p">(</span><span class="n">adjustedTargetPhoneList</span><span class="p">)</span>
</span><span id="PhonemeList-272"><a href="#PhonemeList-272"><span class="linenos">272</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-273"><a href="#PhonemeList-273"><span class="linenos">273</span></a>
</span><span id="PhonemeList-274"><a href="#PhonemeList-274"><span class="linenos">274</span></a>        <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">_chooseMostSimilarWithStress</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">,</span> <span class="n">withStress</span><span class="p">)</span>
</span><span id="PhonemeList-275"><a href="#PhonemeList-275"><span class="linenos">275</span></a>
</span><span id="PhonemeList-276"><a href="#PhonemeList-276"><span class="linenos">276</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PhonemeList-277"><a href="#PhonemeList-277"><span class="linenos">277</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ClosestEntryError</span><span class="p">(</span>
</span><span id="PhonemeList-278"><a href="#PhonemeList-278"><span class="linenos">278</span></a>                <span class="s2">&quot;Unexpected error: Could not choose a closest pronunciation.&quot;</span>
</span><span id="PhonemeList-279"><a href="#PhonemeList-279"><span class="linenos">279</span></a>            <span class="p">)</span>
</span><span id="PhonemeList-280"><a href="#PhonemeList-280"><span class="linenos">280</span></a>        <span class="n">closestEntry</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="PhonemeList-281"><a href="#PhonemeList-281"><span class="linenos">281</span></a>
</span><span id="PhonemeList-282"><a href="#PhonemeList-282"><span class="linenos">282</span></a>        <span class="n">modifiedTargetSyllabification</span> <span class="o">=</span> <span class="n">modifiedSyllabificationLists</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="PhonemeList-283"><a href="#PhonemeList-283"><span class="linenos">283</span></a>        <span class="n">constructedEntry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span>
</span><span id="PhonemeList-284"><a href="#PhonemeList-284"><span class="linenos">284</span></a>            <span class="n">closestEntry</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="p">[</span><span class="n">modifiedTargetSyllabification</span><span class="p">],</span> <span class="n">closestEntry</span><span class="o">.</span><span class="n">posList</span>
</span><span id="PhonemeList-285"><a href="#PhonemeList-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="PhonemeList-286"><a href="#PhonemeList-286"><span class="linenos">286</span></a>
</span><span id="PhonemeList-287"><a href="#PhonemeList-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">closestEntry</span><span class="p">,</span> <span class="n">constructedEntry</span><span class="p">)</span>
</span><span id="PhonemeList-288"><a href="#PhonemeList-288"><span class="linenos">288</span></a>
</span><span id="PhonemeList-289"><a href="#PhonemeList-289"><span class="linenos">289</span></a>    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span>
</span><span id="PhonemeList-290"><a href="#PhonemeList-290"><span class="linenos">290</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">targetPhoneList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span>
</span><span id="PhonemeList-291"><a href="#PhonemeList-291"><span class="linenos">291</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">]:</span>
</span><span id="PhonemeList-292"><a href="#PhonemeList-292"><span class="linenos">292</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See PhonemeList.align()&quot;&quot;&quot;</span>
</span><span id="PhonemeList-293"><a href="#PhonemeList-293"><span class="linenos">293</span></a>
</span><span id="PhonemeList-294"><a href="#PhonemeList-294"><span class="linenos">294</span></a>        <span class="c1"># Remove any elements not in the other list (but maintain order)</span>
</span><span id="PhonemeList-295"><a href="#PhonemeList-295"><span class="linenos">295</span></a>        <span class="n">pronATmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="PhonemeList-296"><a href="#PhonemeList-296"><span class="linenos">296</span></a>        <span class="n">pronBTmp</span> <span class="o">=</span> <span class="n">targetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="PhonemeList-297"><a href="#PhonemeList-297"><span class="linenos">297</span></a>
</span><span id="PhonemeList-298"><a href="#PhonemeList-298"><span class="linenos">298</span></a>        <span class="c1"># Find the longest sequence</span>
</span><span id="PhonemeList-299"><a href="#PhonemeList-299"><span class="linenos">299</span></a>        <span class="n">sequence</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">_lcs</span><span class="p">(</span><span class="n">pronBTmp</span><span class="p">,</span> <span class="n">pronATmp</span><span class="p">)</span>
</span><span id="PhonemeList-300"><a href="#PhonemeList-300"><span class="linenos">300</span></a>
</span><span id="PhonemeList-301"><a href="#PhonemeList-301"><span class="linenos">301</span></a>        <span class="c1"># Find the index of the sequence</span>
</span><span id="PhonemeList-302"><a href="#PhonemeList-302"><span class="linenos">302</span></a>        <span class="c1"># TODO: investigate ambiguous cases</span>
</span><span id="PhonemeList-303"><a href="#PhonemeList-303"><span class="linenos">303</span></a>        <span class="n">startA</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="PhonemeList-304"><a href="#PhonemeList-304"><span class="linenos">304</span></a>        <span class="n">startB</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="PhonemeList-305"><a href="#PhonemeList-305"><span class="linenos">305</span></a>        <span class="n">sequenceIndexListA</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-306"><a href="#PhonemeList-306"><span class="linenos">306</span></a>        <span class="n">sequenceIndexListB</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList-307"><a href="#PhonemeList-307"><span class="linenos">307</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">:</span>
</span><span id="PhonemeList-308"><a href="#PhonemeList-308"><span class="linenos">308</span></a>            <span class="n">startA</span> <span class="o">=</span> <span class="n">pronATmp</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">startA</span><span class="p">)</span>
</span><span id="PhonemeList-309"><a href="#PhonemeList-309"><span class="linenos">309</span></a>            <span class="n">startB</span> <span class="o">=</span> <span class="n">pronBTmp</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">startB</span><span class="p">)</span>
</span><span id="PhonemeList-310"><a href="#PhonemeList-310"><span class="linenos">310</span></a>
</span><span id="PhonemeList-311"><a href="#PhonemeList-311"><span class="linenos">311</span></a>            <span class="n">sequenceIndexListA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">startA</span><span class="p">)</span>
</span><span id="PhonemeList-312"><a href="#PhonemeList-312"><span class="linenos">312</span></a>            <span class="n">sequenceIndexListB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">startB</span><span class="p">)</span>
</span><span id="PhonemeList-313"><a href="#PhonemeList-313"><span class="linenos">313</span></a>
</span><span id="PhonemeList-314"><a href="#PhonemeList-314"><span class="linenos">314</span></a>            <span class="n">startA</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="PhonemeList-315"><a href="#PhonemeList-315"><span class="linenos">315</span></a>            <span class="n">startB</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="PhonemeList-316"><a href="#PhonemeList-316"><span class="linenos">316</span></a>
</span><span id="PhonemeList-317"><a href="#PhonemeList-317"><span class="linenos">317</span></a>        <span class="c1"># An index on the tail of both will be used to create output strings</span>
</span><span id="PhonemeList-318"><a href="#PhonemeList-318"><span class="linenos">318</span></a>        <span class="c1"># of the same length</span>
</span><span id="PhonemeList-319"><a href="#PhonemeList-319"><span class="linenos">319</span></a>        <span class="n">sequenceIndexListA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pronATmp</span><span class="p">))</span>
</span><span id="PhonemeList-320"><a href="#PhonemeList-320"><span class="linenos">320</span></a>        <span class="n">sequenceIndexListB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pronBTmp</span><span class="p">))</span>
</span><span id="PhonemeList-321"><a href="#PhonemeList-321"><span class="linenos">321</span></a>
</span><span id="PhonemeList-322"><a href="#PhonemeList-322"><span class="linenos">322</span></a>        <span class="c1"># Fill in any blanks such that the sequential items have the same</span>
</span><span id="PhonemeList-323"><a href="#PhonemeList-323"><span class="linenos">323</span></a>        <span class="c1"># index and the two strings are the same length</span>
</span><span id="PhonemeList-324"><a href="#PhonemeList-324"><span class="linenos">324</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sequenceIndexListA</span><span class="p">):</span>
</span><span id="PhonemeList-325"><a href="#PhonemeList-325"><span class="linenos">325</span></a>            <span class="n">indexA</span> <span class="o">=</span> <span class="n">sequenceIndexListA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="PhonemeList-326"><a href="#PhonemeList-326"><span class="linenos">326</span></a>            <span class="n">indexB</span> <span class="o">=</span> <span class="n">sequenceIndexListB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="PhonemeList-327"><a href="#PhonemeList-327"><span class="linenos">327</span></a>            <span class="k">if</span> <span class="n">indexA</span> <span class="o">&lt;</span> <span class="n">indexB</span><span class="p">:</span>
</span><span id="PhonemeList-328"><a href="#PhonemeList-328"><span class="linenos">328</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">indexB</span> <span class="o">-</span> <span class="n">indexA</span><span class="p">):</span>
</span><span id="PhonemeList-329"><a href="#PhonemeList-329"><span class="linenos">329</span></a>                    <span class="n">pronATmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">indexA</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="PhonemeList-330"><a href="#PhonemeList-330"><span class="linenos">330</span></a>                <span class="n">sequenceIndexListA</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="PhonemeList-331"><a href="#PhonemeList-331"><span class="linenos">331</span></a>                    <span class="n">val</span> <span class="o">+</span> <span class="n">indexB</span> <span class="o">-</span> <span class="n">indexA</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">sequenceIndexListA</span>
</span><span id="PhonemeList-332"><a href="#PhonemeList-332"><span class="linenos">332</span></a>                <span class="p">]</span>
</span><span id="PhonemeList-333"><a href="#PhonemeList-333"><span class="linenos">333</span></a>            <span class="k">elif</span> <span class="n">indexA</span> <span class="o">&gt;</span> <span class="n">indexB</span><span class="p">:</span>
</span><span id="PhonemeList-334"><a href="#PhonemeList-334"><span class="linenos">334</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">indexA</span> <span class="o">-</span> <span class="n">indexB</span><span class="p">):</span>
</span><span id="PhonemeList-335"><a href="#PhonemeList-335"><span class="linenos">335</span></a>                    <span class="n">pronBTmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">indexB</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="PhonemeList-336"><a href="#PhonemeList-336"><span class="linenos">336</span></a>                <span class="n">sequenceIndexListB</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="PhonemeList-337"><a href="#PhonemeList-337"><span class="linenos">337</span></a>                    <span class="n">val</span> <span class="o">+</span> <span class="n">indexA</span> <span class="o">-</span> <span class="n">indexB</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">sequenceIndexListB</span>
</span><span id="PhonemeList-338"><a href="#PhonemeList-338"><span class="linenos">338</span></a>                <span class="p">]</span>
</span><span id="PhonemeList-339"><a href="#PhonemeList-339"><span class="linenos">339</span></a>
</span><span id="PhonemeList-340"><a href="#PhonemeList-340"><span class="linenos">340</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">pronATmp</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">pronBTmp</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A list of phonemes</p>

<h6 id="attributes">Attributes:</h6>

<ul>
<li><strong>phonemes:</strong>  The list of phonemes</li>
</ul>
</div>


                            <div id="PhonemeList.findBestSyllabification" class="classattr">
                                        <input id="PhonemeList.findBestSyllabification-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">findBestSyllabification</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span>:</span></span>

                <label class="view-source-button" for="PhonemeList.findBestSyllabification-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PhonemeList.findBestSyllabification"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PhonemeList.findBestSyllabification-88"><a href="#PhonemeList.findBestSyllabification-88"><span class="linenos"> 88</span></a>    <span class="k">def</span> <span class="nf">findBestSyllabification</span><span class="p">(</span>
</span><span id="PhonemeList.findBestSyllabification-89"><a href="#PhonemeList.findBestSyllabification-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="PhonemeList.findBestSyllabification-90"><a href="#PhonemeList.findBestSyllabification-90"><span class="linenos"> 90</span></a>        <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">],</span>
</span><span id="PhonemeList.findBestSyllabification-91"><a href="#PhonemeList.findBestSyllabification-91"><span class="linenos"> 91</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="PhonemeList.findBestSyllabification-92"><a href="#PhonemeList.findBestSyllabification-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds the closest entry to the PhonemeList and uses it as the model Syllabification</span>
</span><span id="PhonemeList.findBestSyllabification-93"><a href="#PhonemeList.findBestSyllabification-93"><span class="linenos"> 93</span></a>
</span><span id="PhonemeList.findBestSyllabification-94"><a href="#PhonemeList.findBestSyllabification-94"><span class="linenos"> 94</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="PhonemeList.findBestSyllabification-95"><a href="#PhonemeList.findBestSyllabification-95"><span class="linenos"> 95</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="PhonemeList.findBestSyllabification-96"><a href="#PhonemeList.findBestSyllabification-96"><span class="linenos"> 96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList.findBestSyllabification-97"><a href="#PhonemeList.findBestSyllabification-97"><span class="linenos"> 97</span></a>        <span class="n">syllabification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="PhonemeList.findBestSyllabification-98"><a href="#PhonemeList.findBestSyllabification-98"><span class="linenos"> 98</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabify</span><span class="p">(</span>
</span><span id="PhonemeList.findBestSyllabification-99"><a href="#PhonemeList.findBestSyllabification-99"><span class="linenos"> 99</span></a>            <span class="n">syllabification</span><span class="p">,</span> <span class="n">onSizeError</span><span class="o">=</span><span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="o">.</span><span class="n">SILENCE</span>
</span><span id="PhonemeList.findBestSyllabification-100"><a href="#PhonemeList.findBestSyllabification-100"><span class="linenos">100</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Finds the closest entry to the PhonemeList and uses it as the model Syllabification</p>

<p>'Closeness' is determined by similarity in PhoneLists.  See
PhoneList._findClosestEntry() for details.</p>
</div>


                            </div>
                            <div id="PhonemeList.findClosestEntry" class="classattr">
                                        <input id="PhonemeList.findClosestEntry-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">findClosestEntry</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span>:</span></span>

                <label class="view-source-button" for="PhonemeList.findClosestEntry-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PhonemeList.findClosestEntry"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PhonemeList.findClosestEntry-102"><a href="#PhonemeList.findClosestEntry-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="nf">findClosestEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Entry&quot;</span><span class="p">:</span>
</span><span id="PhonemeList.findClosestEntry-103"><a href="#PhonemeList.findClosestEntry-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PhonemeList.findClosestEntry-104"><a href="#PhonemeList.findClosestEntry-104"><span class="linenos">104</span></a><span class="sd">        Finds the closest Entry to this PhonemeList</span>
</span><span id="PhonemeList.findClosestEntry-105"><a href="#PhonemeList.findClosestEntry-105"><span class="linenos">105</span></a>
</span><span id="PhonemeList.findClosestEntry-106"><a href="#PhonemeList.findClosestEntry-106"><span class="linenos">106</span></a><span class="sd">        &#39;Closeness&#39; is determined by similarity in PhoneLists.  See</span>
</span><span id="PhonemeList.findClosestEntry-107"><a href="#PhonemeList.findClosestEntry-107"><span class="linenos">107</span></a><span class="sd">        PhoneList._findClosestEntry() for details.</span>
</span><span id="PhonemeList.findClosestEntry-108"><a href="#PhonemeList.findClosestEntry-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList.findClosestEntry-109"><a href="#PhonemeList.findClosestEntry-109"><span class="linenos">109</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findClosestEntry</span><span class="p">(</span><span class="n">entries</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Finds the closest Entry to this PhonemeList</p>

<p>'Closeness' is determined by similarity in PhoneLists.  See
PhoneList._findClosestEntry() for details.</p>
</div>


                            </div>
                            <div id="PhonemeList.syllabify" class="classattr">
                                        <input id="PhonemeList.syllabify-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">syllabify</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">syllabification</span><span class="p">:</span> <span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span>,</span><span class="param">	<span class="n">onSizeError</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;silence&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;warning&#39;</span></span><span class="return-annotation">) -> <span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span>:</span></span>

                <label class="view-source-button" for="PhonemeList.syllabify-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PhonemeList.syllabify"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PhonemeList.syllabify-111"><a href="#PhonemeList.syllabify-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">syllabify</span><span class="p">(</span>
</span><span id="PhonemeList.syllabify-112"><a href="#PhonemeList.syllabify-112"><span class="linenos">112</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-113"><a href="#PhonemeList.syllabify-113"><span class="linenos">113</span></a>        <span class="n">syllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-114"><a href="#PhonemeList.syllabify-114"><span class="linenos">114</span></a>        <span class="n">onSizeError</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;silence&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-115"><a href="#PhonemeList.syllabify-115"><span class="linenos">115</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="PhonemeList.syllabify-116"><a href="#PhonemeList.syllabify-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Up convert a PhonemeList to a Syllabification</span>
</span><span id="PhonemeList.syllabify-117"><a href="#PhonemeList.syllabify-117"><span class="linenos">117</span></a>
</span><span id="PhonemeList.syllabify-118"><a href="#PhonemeList.syllabify-118"><span class="linenos">118</span></a><span class="sd">        This requires a syllabification to model after. This is a best-effort</span>
</span><span id="PhonemeList.syllabify-119"><a href="#PhonemeList.syllabify-119"><span class="linenos">119</span></a><span class="sd">        conversion. For best results, the syllabification should be as close</span>
</span><span id="PhonemeList.syllabify-120"><a href="#PhonemeList.syllabify-120"><span class="linenos">120</span></a><span class="sd">        to this phone list, in terms of phones.</span>
</span><span id="PhonemeList.syllabify-121"><a href="#PhonemeList.syllabify-121"><span class="linenos">121</span></a>
</span><span id="PhonemeList.syllabify-122"><a href="#PhonemeList.syllabify-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="PhonemeList.syllabify-123"><a href="#PhonemeList.syllabify-123"><span class="linenos">123</span></a><span class="sd">            syllabification: the model syllabification to map onto this PhonemeList</span>
</span><span id="PhonemeList.syllabify-124"><a href="#PhonemeList.syllabify-124"><span class="linenos">124</span></a><span class="sd">            onSizeError: determines the behavior when the syllabification has a</span>
</span><span id="PhonemeList.syllabify-125"><a href="#PhonemeList.syllabify-125"><span class="linenos">125</span></a><span class="sd">                different number of phonemes from this PhonemeList</span>
</span><span id="PhonemeList.syllabify-126"><a href="#PhonemeList.syllabify-126"><span class="linenos">126</span></a>
</span><span id="PhonemeList.syllabify-127"><a href="#PhonemeList.syllabify-127"><span class="linenos">127</span></a><span class="sd">        Returns:</span>
</span><span id="PhonemeList.syllabify-128"><a href="#PhonemeList.syllabify-128"><span class="linenos">128</span></a><span class="sd">            a Syllabification of this PhonemeList</span>
</span><span id="PhonemeList.syllabify-129"><a href="#PhonemeList.syllabify-129"><span class="linenos">129</span></a>
</span><span id="PhonemeList.syllabify-130"><a href="#PhonemeList.syllabify-130"><span class="linenos">130</span></a><span class="sd">        Raises:</span>
</span><span id="PhonemeList.syllabify-131"><a href="#PhonemeList.syllabify-131"><span class="linenos">131</span></a><span class="sd">            SyllabificationError: when the length of the PhonemeList does not match the</span>
</span><span id="PhonemeList.syllabify-132"><a href="#PhonemeList.syllabify-132"><span class="linenos">132</span></a><span class="sd">                model Syllabification</span>
</span><span id="PhonemeList.syllabify-133"><a href="#PhonemeList.syllabify-133"><span class="linenos">133</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList.syllabify-134"><a href="#PhonemeList.syllabify-134"><span class="linenos">134</span></a>        <span class="n">utils</span><span class="o">.</span><span class="n">validateOption</span><span class="p">(</span><span class="s2">&quot;onSizeError&quot;</span><span class="p">,</span> <span class="n">onSizeError</span><span class="p">,</span> <span class="n">constants</span><span class="o">.</span><span class="n">ErrorReportingMode</span><span class="p">)</span>
</span><span id="PhonemeList.syllabify-135"><a href="#PhonemeList.syllabify-135"><span class="linenos">135</span></a>        <span class="n">errorReporter</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">getErrorReporter</span><span class="p">(</span><span class="n">onSizeError</span><span class="p">)</span>
</span><span id="PhonemeList.syllabify-136"><a href="#PhonemeList.syllabify-136"><span class="linenos">136</span></a>
</span><span id="PhonemeList.syllabify-137"><a href="#PhonemeList.syllabify-137"><span class="linenos">137</span></a>        <span class="n">numPhoneList</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span><span id="PhonemeList.syllabify-138"><a href="#PhonemeList.syllabify-138"><span class="linenos">138</span></a>
</span><span id="PhonemeList.syllabify-139"><a href="#PhonemeList.syllabify-139"><span class="linenos">139</span></a>        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="PhonemeList.syllabify-140"><a href="#PhonemeList.syllabify-140"><span class="linenos">140</span></a>        <span class="n">syllabifiedList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="PhonemeList.syllabify-141"><a href="#PhonemeList.syllabify-141"><span class="linenos">141</span></a>        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">numPhoneList</span><span class="p">:</span>
</span><span id="PhonemeList.syllabify-142"><a href="#PhonemeList.syllabify-142"><span class="linenos">142</span></a>
</span><span id="PhonemeList.syllabify-143"><a href="#PhonemeList.syllabify-143"><span class="linenos">143</span></a>            <span class="n">syllable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">]</span>
</span><span id="PhonemeList.syllabify-144"><a href="#PhonemeList.syllabify-144"><span class="linenos">144</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="PhonemeList.syllabify-145"><a href="#PhonemeList.syllabify-145"><span class="linenos">145</span></a>                <span class="n">syllabifiedList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span>
</span><span id="PhonemeList.syllabify-146"><a href="#PhonemeList.syllabify-146"><span class="linenos">146</span></a>
</span><span id="PhonemeList.syllabify-147"><a href="#PhonemeList.syllabify-147"><span class="linenos">147</span></a>            <span class="n">start</span> <span class="o">+=</span> <span class="n">end</span>
</span><span id="PhonemeList.syllabify-148"><a href="#PhonemeList.syllabify-148"><span class="linenos">148</span></a>
</span><span id="PhonemeList.syllabify-149"><a href="#PhonemeList.syllabify-149"><span class="linenos">149</span></a>        <span class="n">targetLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="PhonemeList.syllabify-150"><a href="#PhonemeList.syllabify-150"><span class="linenos">150</span></a>        <span class="n">actualLen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">)</span>
</span><span id="PhonemeList.syllabify-151"><a href="#PhonemeList.syllabify-151"><span class="linenos">151</span></a>        <span class="n">targetNumPhones</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">())</span>
</span><span id="PhonemeList.syllabify-152"><a href="#PhonemeList.syllabify-152"><span class="linenos">152</span></a>
</span><span id="PhonemeList.syllabify-153"><a href="#PhonemeList.syllabify-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">targetLen</span> <span class="o">&gt;</span> <span class="n">actualLen</span><span class="p">:</span>
</span><span id="PhonemeList.syllabify-154"><a href="#PhonemeList.syllabify-154"><span class="linenos">154</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="PhonemeList.syllabify-155"><a href="#PhonemeList.syllabify-155"><span class="linenos">155</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-156"><a href="#PhonemeList.syllabify-156"><span class="linenos">156</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too long for the input &quot;</span>
</span><span id="PhonemeList.syllabify-157"><a href="#PhonemeList.syllabify-157"><span class="linenos">157</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the output has been truncated (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-158"><a href="#PhonemeList.syllabify-158"><span class="linenos">158</span></a>            <span class="p">)</span>
</span><span id="PhonemeList.syllabify-159"><a href="#PhonemeList.syllabify-159"><span class="linenos">159</span></a>        <span class="k">elif</span> <span class="n">targetNumPhones</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">):</span>
</span><span id="PhonemeList.syllabify-160"><a href="#PhonemeList.syllabify-160"><span class="linenos">160</span></a>            <span class="n">errorReporter</span><span class="p">(</span>
</span><span id="PhonemeList.syllabify-161"><a href="#PhonemeList.syllabify-161"><span class="linenos">161</span></a>                <span class="n">errors</span><span class="o">.</span><span class="n">SyllabificationError</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-162"><a href="#PhonemeList.syllabify-162"><span class="linenos">162</span></a>                <span class="sa">f</span><span class="s2">&quot;The target syllabification (</span><span class="si">{</span><span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="si">}</span><span class="s2">) is too short for the input &quot;</span>
</span><span id="PhonemeList.syllabify-163"><a href="#PhonemeList.syllabify-163"><span class="linenos">163</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">); the best fit syllabification output is (</span><span class="si">{</span><span class="n">syllabifiedList</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
</span><span id="PhonemeList.syllabify-164"><a href="#PhonemeList.syllabify-164"><span class="linenos">164</span></a>            <span class="p">)</span>
</span><span id="PhonemeList.syllabify-165"><a href="#PhonemeList.syllabify-165"><span class="linenos">165</span></a>
</span><span id="PhonemeList.syllabify-166"><a href="#PhonemeList.syllabify-166"><span class="linenos">166</span></a>        <span class="c1"># TODO: Resolve stress properly?</span>
</span><span id="PhonemeList.syllabify-167"><a href="#PhonemeList.syllabify-167"><span class="linenos">167</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span><span class="n">syllabifiedList</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[])</span>
</span></pre></div>


            <div class="docstring"><p>Up convert a PhonemeList to a Syllabification</p>

<p>This requires a syllabification to model after. This is a best-effort
conversion. For best results, the syllabification should be as close
to this phone list, in terms of phones.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>syllabification:</strong>  the model syllabification to map onto this PhonemeList</li>
<li><strong>onSizeError:</strong>  determines the behavior when the syllabification has a
different number of phonemes from this PhonemeList</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>a Syllabification of this PhonemeList</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>SyllabificationError:</strong>  when the length of the PhonemeList does not match the
model Syllabification</li>
</ul>
</div>


                            </div>
                            <div id="PhonemeList.align" class="classattr">
                                        <input id="PhonemeList.align-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">align</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">targetPhoneList</span><span class="p">:</span> <span class="n"><a href="#PhonemeList">pysle.phonetics.PhonemeList</a></span>,</span><span class="param">	<span class="n">simplifiedMatching</span><span class="p">:</span> <span class="nb">bool</span></span><span class="return-annotation">) -> <span class="n">Tuple</span><span class="p">[</span><span class="n"><a href="#PhonemeList">pysle.phonetics.PhonemeList</a></span><span class="p">,</span> <span class="n"><a href="#PhonemeList">pysle.phonetics.PhonemeList</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="PhonemeList.align-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PhonemeList.align"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PhonemeList.align-169"><a href="#PhonemeList.align-169"><span class="linenos">169</span></a>    <span class="k">def</span> <span class="nf">align</span><span class="p">(</span>
</span><span id="PhonemeList.align-170"><a href="#PhonemeList.align-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">targetPhoneList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="PhonemeList.align-171"><a href="#PhonemeList.align-171"><span class="linenos">171</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;PhonemeList&quot;</span><span class="p">,</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">]:</span>
</span><span id="PhonemeList.align-172"><a href="#PhonemeList.align-172"><span class="linenos">172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Align the phones in two pronunciations</span>
</span><span id="PhonemeList.align-173"><a href="#PhonemeList.align-173"><span class="linenos">173</span></a>
</span><span id="PhonemeList.align-174"><a href="#PhonemeList.align-174"><span class="linenos">174</span></a><span class="sd">        This will find the longest (non-continuous) common sequence and fill in the gaps</span>
</span><span id="PhonemeList.align-175"><a href="#PhonemeList.align-175"><span class="linenos">175</span></a><span class="sd">        before, between, and after the characters such that the common elements</span>
</span><span id="PhonemeList.align-176"><a href="#PhonemeList.align-176"><span class="linenos">176</span></a><span class="sd">        occur at the same points and the character strings are the same length</span>
</span><span id="PhonemeList.align-177"><a href="#PhonemeList.align-177"><span class="linenos">177</span></a>
</span><span id="PhonemeList.align-178"><a href="#PhonemeList.align-178"><span class="linenos">178</span></a><span class="sd">        In the following example, the phone lists share the sequence [&#39;a&#39;, &#39;d&#39;]</span>
</span><span id="PhonemeList.align-179"><a href="#PhonemeList.align-179"><span class="linenos">179</span></a>
</span><span id="PhonemeList.align-180"><a href="#PhonemeList.align-180"><span class="linenos">180</span></a><span class="sd">        ```python</span>
</span><span id="PhonemeList.align-181"><a href="#PhonemeList.align-181"><span class="linenos">181</span></a><span class="sd">        phoneListA = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="PhonemeList.align-182"><a href="#PhonemeList.align-182"><span class="linenos">182</span></a><span class="sd">        phoneListB = [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &#39;d&#39;, &#39;u&#39;]</span>
</span><span id="PhonemeList.align-183"><a href="#PhonemeList.align-183"><span class="linenos">183</span></a><span class="sd">        a, b = alignPronunciations(phoneListA, phoneListB)</span>
</span><span id="PhonemeList.align-184"><a href="#PhonemeList.align-184"><span class="linenos">184</span></a><span class="sd">        print(a) &gt; [&quot;&#39;&#39;&quot;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id="PhonemeList.align-185"><a href="#PhonemeList.align-185"><span class="linenos">185</span></a><span class="sd">        print(b) &gt; [&#39;l&#39;, &#39;a&#39;, &#39;z&#39;, &quot;&#39;&#39;&quot;, &#39;d&#39;, &#39;u&#39;, &quot;&#39;&#39;&quot;]</span>
</span><span id="PhonemeList.align-186"><a href="#PhonemeList.align-186"><span class="linenos">186</span></a><span class="sd">        ```</span>
</span><span id="PhonemeList.align-187"><a href="#PhonemeList.align-187"><span class="linenos">187</span></a>
</span><span id="PhonemeList.align-188"><a href="#PhonemeList.align-188"><span class="linenos">188</span></a><span class="sd">        Args:</span>
</span><span id="PhonemeList.align-189"><a href="#PhonemeList.align-189"><span class="linenos">189</span></a><span class="sd">            targetPhoneList: the PhoneList to align with the current PhoneList</span>
</span><span id="PhonemeList.align-190"><a href="#PhonemeList.align-190"><span class="linenos">190</span></a><span class="sd">            simplifiedMatching: if True, use a simplified version of phones, which</span>
</span><span id="PhonemeList.align-191"><a href="#PhonemeList.align-191"><span class="linenos">191</span></a><span class="sd">                allows for looser matching; if False, characters must match exactly</span>
</span><span id="PhonemeList.align-192"><a href="#PhonemeList.align-192"><span class="linenos">192</span></a><span class="sd">                as is</span>
</span><span id="PhonemeList.align-193"><a href="#PhonemeList.align-193"><span class="linenos">193</span></a>
</span><span id="PhonemeList.align-194"><a href="#PhonemeList.align-194"><span class="linenos">194</span></a><span class="sd">        Returns:</span>
</span><span id="PhonemeList.align-195"><a href="#PhonemeList.align-195"><span class="linenos">195</span></a><span class="sd">            this PhoneList and the targetPhoneList, aligned in length</span>
</span><span id="PhonemeList.align-196"><a href="#PhonemeList.align-196"><span class="linenos">196</span></a>
</span><span id="PhonemeList.align-197"><a href="#PhonemeList.align-197"><span class="linenos">197</span></a><span class="sd">        Raises:</span>
</span><span id="PhonemeList.align-198"><a href="#PhonemeList.align-198"><span class="linenos">198</span></a><span class="sd">            UnexpectedError: hopefully you should never see this</span>
</span><span id="PhonemeList.align-199"><a href="#PhonemeList.align-199"><span class="linenos">199</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PhonemeList.align-200"><a href="#PhonemeList.align-200"><span class="linenos">200</span></a>
</span><span id="PhonemeList.align-201"><a href="#PhonemeList.align-201"><span class="linenos">201</span></a>        <span class="k">def</span> <span class="nf">_undoSimplification</span><span class="p">(</span>
</span><span id="PhonemeList.align-202"><a href="#PhonemeList.align-202"><span class="linenos">202</span></a>            <span class="n">rawPhones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">phonemeList</span><span class="p">:</span> <span class="s2">&quot;PhonemeList&quot;</span>
</span><span id="PhonemeList.align-203"><a href="#PhonemeList.align-203"><span class="linenos">203</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PhonemeList&quot;</span><span class="p">:</span>
</span><span id="PhonemeList.align-204"><a href="#PhonemeList.align-204"><span class="linenos">204</span></a>            <span class="n">rawPhones</span> <span class="o">=</span> <span class="n">rawPhones</span><span class="p">[:]</span>
</span><span id="PhonemeList.align-205"><a href="#PhonemeList.align-205"><span class="linenos">205</span></a>            <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="PhonemeList.align-206"><a href="#PhonemeList.align-206"><span class="linenos">206</span></a>                <span class="p">[</span>
</span><span id="PhonemeList.align-207"><a href="#PhonemeList.align-207"><span class="linenos">207</span></a>                    <span class="n">rawPhones</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PhonemeList.align-208"><a href="#PhonemeList.align-208"><span class="linenos">208</span></a>                    <span class="k">if</span> <span class="n">phon</span> <span class="o">!=</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="PhonemeList.align-209"><a href="#PhonemeList.align-209"><span class="linenos">209</span></a>                    <span class="k">else</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="PhonemeList.align-210"><a href="#PhonemeList.align-210"><span class="linenos">210</span></a>                    <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">phonemeList</span><span class="o">.</span><span class="n">phonemes</span>
</span><span id="PhonemeList.align-211"><a href="#PhonemeList.align-211"><span class="linenos">211</span></a>                <span class="p">]</span>
</span><span id="PhonemeList.align-212"><a href="#PhonemeList.align-212"><span class="linenos">212</span></a>            <span class="p">)</span>
</span><span id="PhonemeList.align-213"><a href="#PhonemeList.align-213"><span class="linenos">213</span></a>
</span><span id="PhonemeList.align-214"><a href="#PhonemeList.align-214"><span class="linenos">214</span></a>        <span class="k">if</span> <span class="n">simplifiedMatching</span><span class="p">:</span>
</span><span id="PhonemeList.align-215"><a href="#PhonemeList.align-215"><span class="linenos">215</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
</span><span id="PhonemeList.align-216"><a href="#PhonemeList.align-216"><span class="linenos">216</span></a>                <span class="n">targetPhoneList</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
</span><span id="PhonemeList.align-217"><a href="#PhonemeList.align-217"><span class="linenos">217</span></a>            <span class="p">)</span>
</span><span id="PhonemeList.align-218"><a href="#PhonemeList.align-218"><span class="linenos">218</span></a>            <span class="n">alignedSelf</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedSelf</span><span class="p">)</span>
</span><span id="PhonemeList.align-219"><a href="#PhonemeList.align-219"><span class="linenos">219</span></a>            <span class="n">alignedTarget</span> <span class="o">=</span> <span class="n">_undoSimplification</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">,</span> <span class="n">alignedTarget</span><span class="p">)</span>
</span><span id="PhonemeList.align-220"><a href="#PhonemeList.align-220"><span class="linenos">220</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="PhonemeList.align-221"><a href="#PhonemeList.align-221"><span class="linenos">221</span></a>            <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span><span class="n">targetPhoneList</span><span class="p">)</span>
</span><span id="PhonemeList.align-222"><a href="#PhonemeList.align-222"><span class="linenos">222</span></a>
</span><span id="PhonemeList.align-223"><a href="#PhonemeList.align-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedSelf</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">alignedTarget</span><span class="p">):</span>
</span><span id="PhonemeList.align-224"><a href="#PhonemeList.align-224"><span class="linenos">224</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">UnexpectedError</span><span class="p">(</span>
</span><span id="PhonemeList.align-225"><a href="#PhonemeList.align-225"><span class="linenos">225</span></a>                <span class="s2">&quot;Source and target phone lengths are different but should be the same. &quot;</span>
</span><span id="PhonemeList.align-226"><a href="#PhonemeList.align-226"><span class="linenos">226</span></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">alignedSelf</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">), (</span><span class="si">{</span><span class="n">alignedTarget</span><span class="o">.</span><span class="n">phonemes</span><span class="si">}</span><span class="s2">).  Please report to the developers.&quot;</span>
</span><span id="PhonemeList.align-227"><a href="#PhonemeList.align-227"><span class="linenos">227</span></a>            <span class="p">)</span>
</span><span id="PhonemeList.align-228"><a href="#PhonemeList.align-228"><span class="linenos">228</span></a>
</span><span id="PhonemeList.align-229"><a href="#PhonemeList.align-229"><span class="linenos">229</span></a>        <span class="k">return</span> <span class="n">alignedSelf</span><span class="p">,</span> <span class="n">alignedTarget</span>
</span></pre></div>


            <div class="docstring"><p>Align the phones in two pronunciations</p>

<p>This will find the longest (non-continuous) common sequence and fill in the gaps
before, between, and after the characters such that the common elements
occur at the same points and the character strings are the same length</p>

<p>In the following example, the phone lists share the sequence ['a', 'd']</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">phoneListA</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="n">phoneListB</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">]</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">alignPronunciations</span><span class="p">(</span><span class="n">phoneListA</span><span class="p">,</span> <span class="n">phoneListB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">[</span><span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">[</span><span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">]</span>
</code></pre>
</div>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>targetPhoneList:</strong>  the PhoneList to align with the current PhoneList</li>
<li><strong>simplifiedMatching:</strong>  if True, use a simplified version of phones, which
allows for looser matching; if False, characters must match exactly
as is</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>this PhoneList and the targetPhoneList, aligned in length</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>UnexpectedError:</strong>  hopefully you should never see this</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractPhonemeList">AbstractPhonemeList</a></dt>
                                <dd id="PhonemeList.__init__" class="function"><a href="#AbstractPhonemeList.__init__">AbstractPhonemeList</a></dd>
                <dd id="PhonemeList.stripDiacritics" class="function"><a href="#AbstractPhonemeList.stripDiacritics">stripDiacritics</a></dd>
                <dd id="PhonemeList.simplify" class="function"><a href="#AbstractPhonemeList.simplify">simplify</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Syllable">
                            <input id="Syllable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Syllable</span><wbr>(<span class="base"><a href="#AbstractPhonemeList">AbstractPhonemeList</a></span>):

                <label class="view-source-button" for="Syllable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllable-343"><a href="#Syllable-343"><span class="linenos">343</span></a><span class="k">class</span> <span class="nc">Syllable</span><span class="p">(</span><span class="n">AbstractPhonemeList</span><span class="p">):</span>
</span><span id="Syllable-344"><a href="#Syllable-344"><span class="linenos">344</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of phonemes that compose a single Syllable</span>
</span><span id="Syllable-345"><a href="#Syllable-345"><span class="linenos">345</span></a>
</span><span id="Syllable-346"><a href="#Syllable-346"><span class="linenos">346</span></a><span class="sd">    Attributes:</span>
</span><span id="Syllable-347"><a href="#Syllable-347"><span class="linenos">347</span></a><span class="sd">        phonemes (List[str]): the list of phonemes in this syllable</span>
</span><span id="Syllable-348"><a href="#Syllable-348"><span class="linenos">348</span></a><span class="sd">        cvList (List[str]): the consonant/vowel structure of the syllable</span>
</span><span id="Syllable-349"><a href="#Syllable-349"><span class="linenos">349</span></a><span class="sd">        hasStress (bool): True if the syllable carries stress; False if not</span>
</span><span id="Syllable-350"><a href="#Syllable-350"><span class="linenos">350</span></a><span class="sd">        hasSecondaryStress (bool): True if the syllable carries secondary</span>
</span><span id="Syllable-351"><a href="#Syllable-351"><span class="linenos">351</span></a><span class="sd">            stress; False if not</span>
</span><span id="Syllable-352"><a href="#Syllable-352"><span class="linenos">352</span></a><span class="sd">        nucleus (str): most typically the vowel of the syllable; None if the</span>
</span><span id="Syllable-353"><a href="#Syllable-353"><span class="linenos">353</span></a><span class="sd">            vowel can&#39;t be detected</span>
</span><span id="Syllable-354"><a href="#Syllable-354"><span class="linenos">354</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Syllable-355"><a href="#Syllable-355"><span class="linenos">355</span></a>
</span><span id="Syllable-356"><a href="#Syllable-356"><span class="linenos">356</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="Syllable-357"><a href="#Syllable-357"><span class="linenos">357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="k">if</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;C&quot;</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]</span>
</span><span id="Syllable-358"><a href="#Syllable-358"><span class="linenos">358</span></a>
</span><span id="Syllable-359"><a href="#Syllable-359"><span class="linenos">359</span></a>        <span class="n">vowelCount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="Syllable-360"><a href="#Syllable-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">vowelCount</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Syllable-361"><a href="#Syllable-361"><span class="linenos">361</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">TooManyVowelsInSyllableError</span><span class="p">(</span><span class="n">phonemes</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="p">)</span>
</span><span id="Syllable-362"><a href="#Syllable-362"><span class="linenos">362</span></a>
</span><span id="Syllable-363"><a href="#Syllable-363"><span class="linenos">363</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">Syllable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">phonemes</span><span class="p">)</span>
</span><span id="Syllable-364"><a href="#Syllable-364"><span class="linenos">364</span></a>
</span><span id="Syllable-365"><a href="#Syllable-365"><span class="linenos">365</span></a>    <span class="nd">@property</span>
</span><span id="Syllable-366"><a href="#Syllable-366"><span class="linenos">366</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Syllable-367"><a href="#Syllable-367"><span class="linenos">367</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="Syllable-368"><a href="#Syllable-368"><span class="linenos">368</span></a>            <span class="k">if</span> <span class="s2">&quot;ˈ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="Syllable-369"><a href="#Syllable-369"><span class="linenos">369</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="Syllable-370"><a href="#Syllable-370"><span class="linenos">370</span></a>
</span><span id="Syllable-371"><a href="#Syllable-371"><span class="linenos">371</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Syllable-372"><a href="#Syllable-372"><span class="linenos">372</span></a>
</span><span id="Syllable-373"><a href="#Syllable-373"><span class="linenos">373</span></a>    <span class="nd">@property</span>
</span><span id="Syllable-374"><a href="#Syllable-374"><span class="linenos">374</span></a>    <span class="k">def</span> <span class="nf">hasSecondaryStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Syllable-375"><a href="#Syllable-375"><span class="linenos">375</span></a>        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">:</span>
</span><span id="Syllable-376"><a href="#Syllable-376"><span class="linenos">376</span></a>            <span class="k">if</span> <span class="s2">&quot;ˌ&quot;</span> <span class="ow">in</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="Syllable-377"><a href="#Syllable-377"><span class="linenos">377</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="Syllable-378"><a href="#Syllable-378"><span class="linenos">378</span></a>
</span><span id="Syllable-379"><a href="#Syllable-379"><span class="linenos">379</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Syllable-380"><a href="#Syllable-380"><span class="linenos">380</span></a>
</span><span id="Syllable-381"><a href="#Syllable-381"><span class="linenos">381</span></a>    <span class="nd">@property</span>
</span><span id="Syllable-382"><a href="#Syllable-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">nucleus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Syllable-383"><a href="#Syllable-383"><span class="linenos">383</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Typically the vowel in a syllable&quot;&quot;&quot;</span>
</span><span id="Syllable-384"><a href="#Syllable-384"><span class="linenos">384</span></a>        <span class="n">vowelCount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="Syllable-385"><a href="#Syllable-385"><span class="linenos">385</span></a>
</span><span id="Syllable-386"><a href="#Syllable-386"><span class="linenos">386</span></a>        <span class="n">stressI</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="Syllable-387"><a href="#Syllable-387"><span class="linenos">387</span></a>        <span class="k">if</span> <span class="n">vowelCount</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Syllable-388"><a href="#Syllable-388"><span class="linenos">388</span></a>            <span class="n">stressI</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="Syllable-389"><a href="#Syllable-389"><span class="linenos">389</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">stressI</span><span class="p">]</span>
</span><span id="Syllable-390"><a href="#Syllable-390"><span class="linenos">390</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Syllable-391"><a href="#Syllable-391"><span class="linenos">391</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>A list of phonemes that compose a single Syllable</p>

<h6 id="attributes">Attributes:</h6>

<ul>
<li><strong>phonemes (List[str]):</strong>  the list of phonemes in this syllable</li>
<li><strong>cvList (List[str]):</strong>  the consonant/vowel structure of the syllable</li>
<li><strong>hasStress (bool):</strong>  True if the syllable carries stress; False if not</li>
<li><strong>hasSecondaryStress (bool):</strong>  True if the syllable carries secondary
stress; False if not</li>
<li><strong>nucleus (str):</strong>  most typically the vowel of the syllable; None if the
vowel can't be detected</li>
</ul>
</div>


                            <div id="Syllable.__init__" class="classattr">
                                        <input id="Syllable.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Syllable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span>)</span>

                <label class="view-source-button" for="Syllable.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllable.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllable.__init__-356"><a href="#Syllable.__init__-356"><span class="linenos">356</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phonemes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="Syllable.__init__-357"><a href="#Syllable.__init__-357"><span class="linenos">357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="k">if</span> <span class="n">isVowel</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;C&quot;</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phonemes</span><span class="p">]</span>
</span><span id="Syllable.__init__-358"><a href="#Syllable.__init__-358"><span class="linenos">358</span></a>
</span><span id="Syllable.__init__-359"><a href="#Syllable.__init__-359"><span class="linenos">359</span></a>        <span class="n">vowelCount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
</span><span id="Syllable.__init__-360"><a href="#Syllable.__init__-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">vowelCount</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Syllable.__init__-361"><a href="#Syllable.__init__-361"><span class="linenos">361</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">TooManyVowelsInSyllableError</span><span class="p">(</span><span class="n">phonemes</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cvList</span><span class="p">)</span>
</span><span id="Syllable.__init__-362"><a href="#Syllable.__init__-362"><span class="linenos">362</span></a>
</span><span id="Syllable.__init__-363"><a href="#Syllable.__init__-363"><span class="linenos">363</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">Syllable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">phonemes</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Syllable.nucleus" class="classattr">
                                <div class="attr variable">
            <span class="name">nucleus</span><span class="annotation">: Optional[str]</span>

        
    </div>
    <a class="headerlink" href="#Syllable.nucleus"></a>
    
            <div class="docstring"><p>Typically the vowel in a syllable</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractPhonemeList">AbstractPhonemeList</a></dt>
                                <dd id="Syllable.stripDiacritics" class="function"><a href="#AbstractPhonemeList.stripDiacritics">stripDiacritics</a></dd>
                <dd id="Syllable.simplify" class="function"><a href="#AbstractPhonemeList.simplify">simplify</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Syllabification">
                            <input id="Syllabification-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Syllabification</span>:

                <label class="view-source-button" for="Syllabification-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification-394"><a href="#Syllabification-394"><span class="linenos">394</span></a><span class="k">class</span> <span class="nc">Syllabification</span><span class="p">:</span>
</span><span id="Syllabification-395"><a href="#Syllabification-395"><span class="linenos">395</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Representation of athe phones in an utterance, divided into syllables</span>
</span><span id="Syllabification-396"><a href="#Syllabification-396"><span class="linenos">396</span></a>
</span><span id="Syllabification-397"><a href="#Syllabification-397"><span class="linenos">397</span></a><span class="sd">    Attributes:</span>
</span><span id="Syllabification-398"><a href="#Syllabification-398"><span class="linenos">398</span></a><span class="sd">        hasStress (bool): True if there is stress in this syllable; False if not</span>
</span><span id="Syllabification-399"><a href="#Syllabification-399"><span class="linenos">399</span></a><span class="sd">        stress (List[int]): a list containing first the index of the stressed</span>
</span><span id="Syllabification-400"><a href="#Syllabification-400"><span class="linenos">400</span></a><span class="sd">            syllable, followed by the indicies of syllables containing secondary</span>
</span><span id="Syllabification-401"><a href="#Syllabification-401"><span class="linenos">401</span></a><span class="sd">            stress</span>
</span><span id="Syllabification-402"><a href="#Syllabification-402"><span class="linenos">402</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Syllabification-403"><a href="#Syllabification-403"><span class="linenos">403</span></a>
</span><span id="Syllabification-404"><a href="#Syllabification-404"><span class="linenos">404</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Syllabification-405"><a href="#Syllabification-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Syllabification-406"><a href="#Syllabification-406"><span class="linenos">406</span></a>        <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]],</span>
</span><span id="Syllabification-407"><a href="#Syllabification-407"><span class="linenos">407</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Syllabification-408"><a href="#Syllabification-408"><span class="linenos">408</span></a>        <span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Syllabification-409"><a href="#Syllabification-409"><span class="linenos">409</span></a>    <span class="p">):</span>
</span><span id="Syllabification-410"><a href="#Syllabification-410"><span class="linenos">410</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor for a Syllabification</span>
</span><span id="Syllabification-411"><a href="#Syllabification-411"><span class="linenos">411</span></a>
</span><span id="Syllabification-412"><a href="#Syllabification-412"><span class="linenos">412</span></a><span class="sd">        Args:</span>
</span><span id="Syllabification-413"><a href="#Syllabification-413"><span class="linenos">413</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="Syllabification-414"><a href="#Syllabification-414"><span class="linenos">414</span></a><span class="sd">            stressedSyllableIndicies: the location of stressed syllables;</span>
</span><span id="Syllabification-415"><a href="#Syllabification-415"><span class="linenos">415</span></a><span class="sd">                primary stress should appear in the first position, followed</span>
</span><span id="Syllabification-416"><a href="#Syllabification-416"><span class="linenos">416</span></a><span class="sd">                by secondary stress</span>
</span><span id="Syllabification-417"><a href="#Syllabification-417"><span class="linenos">417</span></a><span class="sd">            stressedVowelIndicies: the location of stressed vowels, with</span>
</span><span id="Syllabification-418"><a href="#Syllabification-418"><span class="linenos">418</span></a><span class="sd">                respect to the syllables that they occur in</span>
</span><span id="Syllabification-419"><a href="#Syllabification-419"><span class="linenos">419</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification-420"><a href="#Syllabification-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Syllabification-421"><a href="#Syllabification-421"><span class="linenos">421</span></a>            <span class="n">_toSyllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllables</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="Syllabification-422"><a href="#Syllabification-422"><span class="linenos">422</span></a>        <span class="p">]</span>
</span><span id="Syllabification-423"><a href="#Syllabification-423"><span class="linenos">423</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Syllabification-424"><a href="#Syllabification-424"><span class="linenos">424</span></a>            <span class="n">stressedSyllableIndicies</span> <span class="k">if</span> <span class="n">stressedSyllableIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="Syllabification-425"><a href="#Syllabification-425"><span class="linenos">425</span></a>        <span class="p">)</span>
</span><span id="Syllabification-426"><a href="#Syllabification-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Syllabification-427"><a href="#Syllabification-427"><span class="linenos">427</span></a>            <span class="n">stressedVowelIndicies</span> <span class="k">if</span> <span class="n">stressedVowelIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="Syllabification-428"><a href="#Syllabification-428"><span class="linenos">428</span></a>        <span class="p">)</span>
</span><span id="Syllabification-429"><a href="#Syllabification-429"><span class="linenos">429</span></a>
</span><span id="Syllabification-430"><a href="#Syllabification-430"><span class="linenos">430</span></a>    <span class="nd">@classmethod</span>
</span><span id="Syllabification-431"><a href="#Syllabification-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]):</span>
</span><span id="Syllabification-432"><a href="#Syllabification-432"><span class="linenos">432</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overloaded constructor for Syllabification</span>
</span><span id="Syllabification-433"><a href="#Syllabification-433"><span class="linenos">433</span></a>
</span><span id="Syllabification-434"><a href="#Syllabification-434"><span class="linenos">434</span></a><span class="sd">        Stress information is be inferred from annotations on the syllables</span>
</span><span id="Syllabification-435"><a href="#Syllabification-435"><span class="linenos">435</span></a>
</span><span id="Syllabification-436"><a href="#Syllabification-436"><span class="linenos">436</span></a><span class="sd">        Args:</span>
</span><span id="Syllabification-437"><a href="#Syllabification-437"><span class="linenos">437</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="Syllabification-438"><a href="#Syllabification-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification-439"><a href="#Syllabification-439"><span class="linenos">439</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span> <span class="o">=</span> <span class="n">_findStress</span><span class="p">(</span><span class="n">syllables</span><span class="p">)</span>
</span><span id="Syllabification-440"><a href="#Syllabification-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span>
</span><span id="Syllabification-441"><a href="#Syllabification-441"><span class="linenos">441</span></a>            <span class="n">syllables</span><span class="p">,</span> <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span>
</span><span id="Syllabification-442"><a href="#Syllabification-442"><span class="linenos">442</span></a>        <span class="p">)</span>
</span><span id="Syllabification-443"><a href="#Syllabification-443"><span class="linenos">443</span></a>
</span><span id="Syllabification-444"><a href="#Syllabification-444"><span class="linenos">444</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Syllabification-445"><a href="#Syllabification-445"><span class="linenos">445</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">)</span>
</span><span id="Syllabification-446"><a href="#Syllabification-446"><span class="linenos">446</span></a>
</span><span id="Syllabification-447"><a href="#Syllabification-447"><span class="linenos">447</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Syllabification-448"><a href="#Syllabification-448"><span class="linenos">448</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Syllabification</span><span class="p">):</span>
</span><span id="Syllabification-449"><a href="#Syllabification-449"><span class="linenos">449</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Syllabification-450"><a href="#Syllabification-450"><span class="linenos">450</span></a>
</span><span id="Syllabification-451"><a href="#Syllabification-451"><span class="linenos">451</span></a>        <span class="n">isEqual</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Syllabification-452"><a href="#Syllabification-452"><span class="linenos">452</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">syllables</span>
</span><span id="Syllabification-453"><a href="#Syllabification-453"><span class="linenos">453</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span>
</span><span id="Syllabification-454"><a href="#Syllabification-454"><span class="linenos">454</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stressedVowelIndicies</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">stressedVowelIndicies</span>
</span><span id="Syllabification-455"><a href="#Syllabification-455"><span class="linenos">455</span></a>
</span><span id="Syllabification-456"><a href="#Syllabification-456"><span class="linenos">456</span></a>        <span class="k">return</span> <span class="n">isEqual</span>
</span><span id="Syllabification-457"><a href="#Syllabification-457"><span class="linenos">457</span></a>
</span><span id="Syllabification-458"><a href="#Syllabification-458"><span class="linenos">458</span></a>    <span class="nd">@property</span>
</span><span id="Syllabification-459"><a href="#Syllabification-459"><span class="linenos">459</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Syllabification-460"><a href="#Syllabification-460"><span class="linenos">460</span></a>        <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">:</span>
</span><span id="Syllabification-461"><a href="#Syllabification-461"><span class="linenos">461</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="Syllabification-462"><a href="#Syllabification-462"><span class="linenos">462</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="Syllabification-463"><a href="#Syllabification-463"><span class="linenos">463</span></a>
</span><span id="Syllabification-464"><a href="#Syllabification-464"><span class="linenos">464</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Syllabification-465"><a href="#Syllabification-465"><span class="linenos">465</span></a>
</span><span id="Syllabification-466"><a href="#Syllabification-466"><span class="linenos">466</span></a>    <span class="nd">@property</span>
</span><span id="Syllabification-467"><a href="#Syllabification-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">stress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="Syllabification-468"><a href="#Syllabification-468"><span class="linenos">468</span></a>        <span class="c1"># TODO: Why do we have this property and stressedSyllableIndicies?</span>
</span><span id="Syllabification-469"><a href="#Syllabification-469"><span class="linenos">469</span></a>        <span class="n">stressList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Syllabification-470"><a href="#Syllabification-470"><span class="linenos">470</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="Syllabification-471"><a href="#Syllabification-471"><span class="linenos">471</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="Syllabification-472"><a href="#Syllabification-472"><span class="linenos">472</span></a>                <span class="n">stressList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="Syllabification-473"><a href="#Syllabification-473"><span class="linenos">473</span></a>
</span><span id="Syllabification-474"><a href="#Syllabification-474"><span class="linenos">474</span></a>        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="Syllabification-475"><a href="#Syllabification-475"><span class="linenos">475</span></a>            <span class="k">if</span> <span class="n">syllable</span><span class="o">.</span><span class="n">hasSecondaryStress</span><span class="p">:</span>
</span><span id="Syllabification-476"><a href="#Syllabification-476"><span class="linenos">476</span></a>                <span class="n">stressList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
</span><span id="Syllabification-477"><a href="#Syllabification-477"><span class="linenos">477</span></a>
</span><span id="Syllabification-478"><a href="#Syllabification-478"><span class="linenos">478</span></a>        <span class="k">return</span> <span class="n">stressList</span>
</span><span id="Syllabification-479"><a href="#Syllabification-479"><span class="linenos">479</span></a>
</span><span id="Syllabification-480"><a href="#Syllabification-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="Syllabification-481"><a href="#Syllabification-481"><span class="linenos">481</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Syllabification in plain list representation&quot;&quot;&quot;</span>
</span><span id="Syllabification-482"><a href="#Syllabification-482"><span class="linenos">482</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span><span id="Syllabification-483"><a href="#Syllabification-483"><span class="linenos">483</span></a>
</span><span id="Syllabification-484"><a href="#Syllabification-484"><span class="linenos">484</span></a>    <span class="k">def</span> <span class="nf">desyllabify</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="Syllabification-485"><a href="#Syllabification-485"><span class="linenos">485</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Down convert this Syllabification to a PhonemeList&quot;&quot;&quot;</span>
</span><span id="Syllabification-486"><a href="#Syllabification-486"><span class="linenos">486</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="Syllabification-487"><a href="#Syllabification-487"><span class="linenos">487</span></a>            <span class="p">[</span><span class="n">phone</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="Syllabification-488"><a href="#Syllabification-488"><span class="linenos">488</span></a>        <span class="p">)</span>
</span><span id="Syllabification-489"><a href="#Syllabification-489"><span class="linenos">489</span></a>
</span><span id="Syllabification-490"><a href="#Syllabification-490"><span class="linenos">490</span></a>    <span class="k">def</span> <span class="nf">stretch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="Syllabification-491"><a href="#Syllabification-491"><span class="linenos">491</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lengthen the source syllabification based on a target syllabification</span>
</span><span id="Syllabification-492"><a href="#Syllabification-492"><span class="linenos">492</span></a>
</span><span id="Syllabification-493"><a href="#Syllabification-493"><span class="linenos">493</span></a><span class="sd">        This works by first desllabifying the two syllabifications, adjusting the</span>
</span><span id="Syllabification-494"><a href="#Syllabification-494"><span class="linenos">494</span></a><span class="sd">        length by inserting spaces, and then resyllabifying.  The target&#39;s syllable</span>
</span><span id="Syllabification-495"><a href="#Syllabification-495"><span class="linenos">495</span></a><span class="sd">        structure has no influence on the output.</span>
</span><span id="Syllabification-496"><a href="#Syllabification-496"><span class="linenos">496</span></a>
</span><span id="Syllabification-497"><a href="#Syllabification-497"><span class="linenos">497</span></a><span class="sd">        ```python</span>
</span><span id="Syllabification-498"><a href="#Syllabification-498"><span class="linenos">498</span></a><span class="sd">        a = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;n&quot;]])</span>
</span><span id="Syllabification-499"><a href="#Syllabification-499"><span class="linenos">499</span></a><span class="sd">        b = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;ɪ&quot;, &quot;n&quot;]])</span>
</span><span id="Syllabification-500"><a href="#Syllabification-500"><span class="linenos">500</span></a><span class="sd">        print(a.stretch(b).toList())</span>
</span><span id="Syllabification-501"><a href="#Syllabification-501"><span class="linenos">501</span></a><span class="sd">        &gt;&gt; [[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;&#39;&#39;&quot;, &quot;n&quot;]]</span>
</span><span id="Syllabification-502"><a href="#Syllabification-502"><span class="linenos">502</span></a><span class="sd">        ```</span>
</span><span id="Syllabification-503"><a href="#Syllabification-503"><span class="linenos">503</span></a>
</span><span id="Syllabification-504"><a href="#Syllabification-504"><span class="linenos">504</span></a><span class="sd">        TODO: The more different the source and target are, the more meaningless</span>
</span><span id="Syllabification-505"><a href="#Syllabification-505"><span class="linenos">505</span></a><span class="sd">              the results become.</span>
</span><span id="Syllabification-506"><a href="#Syllabification-506"><span class="linenos">506</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification-507"><a href="#Syllabification-507"><span class="linenos">507</span></a>        <span class="c1"># Make the two pronunciations the same length</span>
</span><span id="Syllabification-508"><a href="#Syllabification-508"><span class="linenos">508</span></a>        <span class="n">alignedP</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="Syllabification-509"><a href="#Syllabification-509"><span class="linenos">509</span></a>            <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">(),</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="Syllabification-510"><a href="#Syllabification-510"><span class="linenos">510</span></a>        <span class="p">)</span>
</span><span id="Syllabification-511"><a href="#Syllabification-511"><span class="linenos">511</span></a>
</span><span id="Syllabification-512"><a href="#Syllabification-512"><span class="linenos">512</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_postAlignAdjustment</span><span class="p">(</span><span class="n">alignedP</span><span class="p">)</span>
</span><span id="Syllabification-513"><a href="#Syllabification-513"><span class="linenos">513</span></a>
</span><span id="Syllabification-514"><a href="#Syllabification-514"><span class="linenos">514</span></a>    <span class="k">def</span> <span class="nf">_postAlignAdjustment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">adjustedPhoneList</span><span class="p">:</span> <span class="n">PhonemeList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="Syllabification-515"><a href="#Syllabification-515"><span class="linenos">515</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserts spaces into a syllable if needed</span>
</span><span id="Syllabification-516"><a href="#Syllabification-516"><span class="linenos">516</span></a>
</span><span id="Syllabification-517"><a href="#Syllabification-517"><span class="linenos">517</span></a><span class="sd">        Originally this Syllabification and the adjustedPhoneList</span>
</span><span id="Syllabification-518"><a href="#Syllabification-518"><span class="linenos">518</span></a><span class="sd">        contained the same number of phones.  But the adjustedPhoneList</span>
</span><span id="Syllabification-519"><a href="#Syllabification-519"><span class="linenos">519</span></a><span class="sd">        may have some insertions which are not accounted for in the</span>
</span><span id="Syllabification-520"><a href="#Syllabification-520"><span class="linenos">520</span></a><span class="sd">        syllableList.</span>
</span><span id="Syllabification-521"><a href="#Syllabification-521"><span class="linenos">521</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification-522"><a href="#Syllabification-522"><span class="linenos">522</span></a>        <span class="c1"># TODO: This method is spagetti code</span>
</span><span id="Syllabification-523"><a href="#Syllabification-523"><span class="linenos">523</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Syllabification-524"><a href="#Syllabification-524"><span class="linenos">524</span></a>        <span class="n">retSyllableList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Syllabification-525"><a href="#Syllabification-525"><span class="linenos">525</span></a>        <span class="k">for</span> <span class="n">syllableNum</span><span class="p">,</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">):</span>
</span><span id="Syllabification-526"><a href="#Syllabification-526"><span class="linenos">526</span></a>            <span class="n">phones</span> <span class="o">=</span> <span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[:]</span>
</span><span id="Syllabification-527"><a href="#Syllabification-527"><span class="linenos">527</span></a>            <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">phones</span><span class="p">)</span>
</span><span id="Syllabification-528"><a href="#Syllabification-528"><span class="linenos">528</span></a>            <span class="k">if</span> <span class="n">syllableNum</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Syllabification-529"><a href="#Syllabification-529"><span class="linenos">529</span></a>                <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span>
</span><span id="Syllabification-530"><a href="#Syllabification-530"><span class="linenos">530</span></a>            <span class="n">tmpPhoneList</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span>
</span><span id="Syllabification-531"><a href="#Syllabification-531"><span class="linenos">531</span></a>            <span class="n">numBlanks</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="Syllabification-532"><a href="#Syllabification-532"><span class="linenos">532</span></a>            <span class="n">phoneList</span> <span class="o">=</span> <span class="n">tmpPhoneList</span><span class="p">[:]</span>
</span><span id="Syllabification-533"><a href="#Syllabification-533"><span class="linenos">533</span></a>            <span class="k">while</span> <span class="n">numBlanks</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Syllabification-534"><a href="#Syllabification-534"><span class="linenos">534</span></a>
</span><span id="Syllabification-535"><a href="#Syllabification-535"><span class="linenos">535</span></a>                <span class="n">numBlanks</span> <span class="o">=</span> <span class="n">tmpPhoneList</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="Syllabification-536"><a href="#Syllabification-536"><span class="linenos">536</span></a>                <span class="k">if</span> <span class="n">numBlanks</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Syllabification-537"><a href="#Syllabification-537"><span class="linenos">537</span></a>                    <span class="n">tmpPhoneList</span> <span class="o">=</span> <span class="n">adjustedPhoneList</span><span class="o">.</span><span class="n">phonemes</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="n">numBlanks</span><span class="p">]</span>
</span><span id="Syllabification-538"><a href="#Syllabification-538"><span class="linenos">538</span></a>                    <span class="n">phoneList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tmpPhoneList</span><span class="p">)</span>
</span><span id="Syllabification-539"><a href="#Syllabification-539"><span class="linenos">539</span></a>                    <span class="n">j</span> <span class="o">+=</span> <span class="n">numBlanks</span>
</span><span id="Syllabification-540"><a href="#Syllabification-540"><span class="linenos">540</span></a>
</span><span id="Syllabification-541"><a href="#Syllabification-541"><span class="linenos">541</span></a>            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">phone</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">phoneList</span><span class="p">):</span>
</span><span id="Syllabification-542"><a href="#Syllabification-542"><span class="linenos">542</span></a>                <span class="k">if</span> <span class="n">phone</span> <span class="o">==</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">:</span>
</span><span id="Syllabification-543"><a href="#Syllabification-543"><span class="linenos">543</span></a>                    <span class="n">phones</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="Syllabification-544"><a href="#Syllabification-544"><span class="linenos">544</span></a>
</span><span id="Syllabification-545"><a href="#Syllabification-545"><span class="linenos">545</span></a>            <span class="n">i</span> <span class="o">+=</span> <span class="n">j</span>
</span><span id="Syllabification-546"><a href="#Syllabification-546"><span class="linenos">546</span></a>
</span><span id="Syllabification-547"><a href="#Syllabification-547"><span class="linenos">547</span></a>            <span class="n">retSyllableList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phones</span><span class="p">)</span>
</span><span id="Syllabification-548"><a href="#Syllabification-548"><span class="linenos">548</span></a>
</span><span id="Syllabification-549"><a href="#Syllabification-549"><span class="linenos">549</span></a>        <span class="c1"># TODO: What to do about stress?</span>
</span><span id="Syllabification-550"><a href="#Syllabification-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span><span class="n">retSyllableList</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[])</span>
</span></pre></div>


            <div class="docstring"><p>Representation of athe phones in an utterance, divided into syllables</p>

<h6 id="attributes">Attributes:</h6>

<ul>
<li><strong>hasStress (bool):</strong>  True if there is stress in this syllable; False if not</li>
<li><strong>stress (List[int]):</strong>  a list containing first the index of the stressed
syllable, followed by the indicies of syllables containing secondary
stress</li>
</ul>
</div>


                            <div id="Syllabification.__init__" class="classattr">
                                        <input id="Syllabification.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Syllabification</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Syllable">pysle.phonetics.Syllable</a></span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span>,</span><span class="param">	<span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Syllabification.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification.__init__-404"><a href="#Syllabification.__init__-404"><span class="linenos">404</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Syllabification.__init__-405"><a href="#Syllabification.__init__-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Syllabification.__init__-406"><a href="#Syllabification.__init__-406"><span class="linenos">406</span></a>        <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]],</span>
</span><span id="Syllabification.__init__-407"><a href="#Syllabification.__init__-407"><span class="linenos">407</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Syllabification.__init__-408"><a href="#Syllabification.__init__-408"><span class="linenos">408</span></a>        <span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Syllabification.__init__-409"><a href="#Syllabification.__init__-409"><span class="linenos">409</span></a>    <span class="p">):</span>
</span><span id="Syllabification.__init__-410"><a href="#Syllabification.__init__-410"><span class="linenos">410</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor for a Syllabification</span>
</span><span id="Syllabification.__init__-411"><a href="#Syllabification.__init__-411"><span class="linenos">411</span></a>
</span><span id="Syllabification.__init__-412"><a href="#Syllabification.__init__-412"><span class="linenos">412</span></a><span class="sd">        Args:</span>
</span><span id="Syllabification.__init__-413"><a href="#Syllabification.__init__-413"><span class="linenos">413</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="Syllabification.__init__-414"><a href="#Syllabification.__init__-414"><span class="linenos">414</span></a><span class="sd">            stressedSyllableIndicies: the location of stressed syllables;</span>
</span><span id="Syllabification.__init__-415"><a href="#Syllabification.__init__-415"><span class="linenos">415</span></a><span class="sd">                primary stress should appear in the first position, followed</span>
</span><span id="Syllabification.__init__-416"><a href="#Syllabification.__init__-416"><span class="linenos">416</span></a><span class="sd">                by secondary stress</span>
</span><span id="Syllabification.__init__-417"><a href="#Syllabification.__init__-417"><span class="linenos">417</span></a><span class="sd">            stressedVowelIndicies: the location of stressed vowels, with</span>
</span><span id="Syllabification.__init__-418"><a href="#Syllabification.__init__-418"><span class="linenos">418</span></a><span class="sd">                respect to the syllables that they occur in</span>
</span><span id="Syllabification.__init__-419"><a href="#Syllabification.__init__-419"><span class="linenos">419</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification.__init__-420"><a href="#Syllabification.__init__-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Syllabification.__init__-421"><a href="#Syllabification.__init__-421"><span class="linenos">421</span></a>            <span class="n">_toSyllable</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="n">syllables</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">syllable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="Syllabification.__init__-422"><a href="#Syllabification.__init__-422"><span class="linenos">422</span></a>        <span class="p">]</span>
</span><span id="Syllabification.__init__-423"><a href="#Syllabification.__init__-423"><span class="linenos">423</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedSyllableIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Syllabification.__init__-424"><a href="#Syllabification.__init__-424"><span class="linenos">424</span></a>            <span class="n">stressedSyllableIndicies</span> <span class="k">if</span> <span class="n">stressedSyllableIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="Syllabification.__init__-425"><a href="#Syllabification.__init__-425"><span class="linenos">425</span></a>        <span class="p">)</span>
</span><span id="Syllabification.__init__-426"><a href="#Syllabification.__init__-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stressedVowelIndicies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Syllabification.__init__-427"><a href="#Syllabification.__init__-427"><span class="linenos">427</span></a>            <span class="n">stressedVowelIndicies</span> <span class="k">if</span> <span class="n">stressedVowelIndicies</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</span><span id="Syllabification.__init__-428"><a href="#Syllabification.__init__-428"><span class="linenos">428</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Constructor for a Syllabification</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>syllables:</strong>  a list of syllables representing a word</li>
<li><strong>stressedSyllableIndicies:</strong>  the location of stressed syllables;
primary stress should appear in the first position, followed
by secondary stress</li>
<li><strong>stressedVowelIndicies:</strong>  the location of stressed vowels, with
respect to the syllables that they occur in</li>
</ul>
</div>


                            </div>
                            <div id="Syllabification.new" class="classattr">
                                        <input id="Syllabification.new-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">new</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">_cls</span>,</span><span class="param">	<span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Syllable">pysle.phonetics.Syllable</a></span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Syllabification.new-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification.new"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification.new-430"><a href="#Syllabification.new-430"><span class="linenos">430</span></a>    <span class="nd">@classmethod</span>
</span><span id="Syllabification.new-431"><a href="#Syllabification.new-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">syllables</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllable</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]):</span>
</span><span id="Syllabification.new-432"><a href="#Syllabification.new-432"><span class="linenos">432</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overloaded constructor for Syllabification</span>
</span><span id="Syllabification.new-433"><a href="#Syllabification.new-433"><span class="linenos">433</span></a>
</span><span id="Syllabification.new-434"><a href="#Syllabification.new-434"><span class="linenos">434</span></a><span class="sd">        Stress information is be inferred from annotations on the syllables</span>
</span><span id="Syllabification.new-435"><a href="#Syllabification.new-435"><span class="linenos">435</span></a>
</span><span id="Syllabification.new-436"><a href="#Syllabification.new-436"><span class="linenos">436</span></a><span class="sd">        Args:</span>
</span><span id="Syllabification.new-437"><a href="#Syllabification.new-437"><span class="linenos">437</span></a><span class="sd">            syllables: a list of syllables representing a word</span>
</span><span id="Syllabification.new-438"><a href="#Syllabification.new-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification.new-439"><a href="#Syllabification.new-439"><span class="linenos">439</span></a>        <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span> <span class="o">=</span> <span class="n">_findStress</span><span class="p">(</span><span class="n">syllables</span><span class="p">)</span>
</span><span id="Syllabification.new-440"><a href="#Syllabification.new-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="n">Syllabification</span><span class="p">(</span>
</span><span id="Syllabification.new-441"><a href="#Syllabification.new-441"><span class="linenos">441</span></a>            <span class="n">syllables</span><span class="p">,</span> <span class="n">stressedSyllableIndicies</span><span class="p">,</span> <span class="n">stressedVowelIndicies</span>
</span><span id="Syllabification.new-442"><a href="#Syllabification.new-442"><span class="linenos">442</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Overloaded constructor for Syllabification</p>

<p>Stress information is be inferred from annotations on the syllables</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>syllables:</strong>  a list of syllables representing a word</li>
</ul>
</div>


                            </div>
                            <div id="Syllabification.toList" class="classattr">
                                        <input id="Syllabification.toList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">toList</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="Syllabification.toList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification.toList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification.toList-480"><a href="#Syllabification.toList-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="Syllabification.toList-481"><a href="#Syllabification.toList-481"><span class="linenos">481</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Syllabification in plain list representation&quot;&quot;&quot;</span>
</span><span id="Syllabification.toList-482"><a href="#Syllabification.toList-482"><span class="linenos">482</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Syllabification in plain list representation</p>
</div>


                            </div>
                            <div id="Syllabification.desyllabify" class="classattr">
                                        <input id="Syllabification.desyllabify-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">desyllabify</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#PhonemeList">pysle.phonetics.PhonemeList</a></span>:</span></span>

                <label class="view-source-button" for="Syllabification.desyllabify-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification.desyllabify"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification.desyllabify-484"><a href="#Syllabification.desyllabify-484"><span class="linenos">484</span></a>    <span class="k">def</span> <span class="nf">desyllabify</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="Syllabification.desyllabify-485"><a href="#Syllabification.desyllabify-485"><span class="linenos">485</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Down convert this Syllabification to a PhonemeList&quot;&quot;&quot;</span>
</span><span id="Syllabification.desyllabify-486"><a href="#Syllabification.desyllabify-486"><span class="linenos">486</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span>
</span><span id="Syllabification.desyllabify-487"><a href="#Syllabification.desyllabify-487"><span class="linenos">487</span></a>            <span class="p">[</span><span class="n">phone</span> <span class="k">for</span> <span class="n">syllable</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">syllable</span><span class="o">.</span><span class="n">phonemes</span><span class="p">]</span>
</span><span id="Syllabification.desyllabify-488"><a href="#Syllabification.desyllabify-488"><span class="linenos">488</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Down convert this Syllabification to a PhonemeList</p>
</div>


                            </div>
                            <div id="Syllabification.stretch" class="classattr">
                                        <input id="Syllabification.stretch-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">stretch</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">targetSyllabification</span><span class="p">:</span> <span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span></span><span class="return-annotation">) -> <span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span>:</span></span>

                <label class="view-source-button" for="Syllabification.stretch-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Syllabification.stretch"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Syllabification.stretch-490"><a href="#Syllabification.stretch-490"><span class="linenos">490</span></a>    <span class="k">def</span> <span class="nf">stretch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Syllabification&quot;</span><span class="p">:</span>
</span><span id="Syllabification.stretch-491"><a href="#Syllabification.stretch-491"><span class="linenos">491</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lengthen the source syllabification based on a target syllabification</span>
</span><span id="Syllabification.stretch-492"><a href="#Syllabification.stretch-492"><span class="linenos">492</span></a>
</span><span id="Syllabification.stretch-493"><a href="#Syllabification.stretch-493"><span class="linenos">493</span></a><span class="sd">        This works by first desllabifying the two syllabifications, adjusting the</span>
</span><span id="Syllabification.stretch-494"><a href="#Syllabification.stretch-494"><span class="linenos">494</span></a><span class="sd">        length by inserting spaces, and then resyllabifying.  The target&#39;s syllable</span>
</span><span id="Syllabification.stretch-495"><a href="#Syllabification.stretch-495"><span class="linenos">495</span></a><span class="sd">        structure has no influence on the output.</span>
</span><span id="Syllabification.stretch-496"><a href="#Syllabification.stretch-496"><span class="linenos">496</span></a>
</span><span id="Syllabification.stretch-497"><a href="#Syllabification.stretch-497"><span class="linenos">497</span></a><span class="sd">        ```python</span>
</span><span id="Syllabification.stretch-498"><a href="#Syllabification.stretch-498"><span class="linenos">498</span></a><span class="sd">        a = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;n&quot;]])</span>
</span><span id="Syllabification.stretch-499"><a href="#Syllabification.stretch-499"><span class="linenos">499</span></a><span class="sd">        b = phonetics.Syllabification([[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;ɪ&quot;, &quot;n&quot;]])</span>
</span><span id="Syllabification.stretch-500"><a href="#Syllabification.stretch-500"><span class="linenos">500</span></a><span class="sd">        print(a.stretch(b).toList())</span>
</span><span id="Syllabification.stretch-501"><a href="#Syllabification.stretch-501"><span class="linenos">501</span></a><span class="sd">        &gt;&gt; [[&quot;p&quot;, &quot;m&quot;], [&quot;k&quot;, &quot;&#39;&#39;&quot;, &quot;n&quot;]]</span>
</span><span id="Syllabification.stretch-502"><a href="#Syllabification.stretch-502"><span class="linenos">502</span></a><span class="sd">        ```</span>
</span><span id="Syllabification.stretch-503"><a href="#Syllabification.stretch-503"><span class="linenos">503</span></a>
</span><span id="Syllabification.stretch-504"><a href="#Syllabification.stretch-504"><span class="linenos">504</span></a><span class="sd">        TODO: The more different the source and target are, the more meaningless</span>
</span><span id="Syllabification.stretch-505"><a href="#Syllabification.stretch-505"><span class="linenos">505</span></a><span class="sd">              the results become.</span>
</span><span id="Syllabification.stretch-506"><a href="#Syllabification.stretch-506"><span class="linenos">506</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Syllabification.stretch-507"><a href="#Syllabification.stretch-507"><span class="linenos">507</span></a>        <span class="c1"># Make the two pronunciations the same length</span>
</span><span id="Syllabification.stretch-508"><a href="#Syllabification.stretch-508"><span class="linenos">508</span></a>        <span class="n">alignedP</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="Syllabification.stretch-509"><a href="#Syllabification.stretch-509"><span class="linenos">509</span></a>            <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">(),</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="Syllabification.stretch-510"><a href="#Syllabification.stretch-510"><span class="linenos">510</span></a>        <span class="p">)</span>
</span><span id="Syllabification.stretch-511"><a href="#Syllabification.stretch-511"><span class="linenos">511</span></a>
</span><span id="Syllabification.stretch-512"><a href="#Syllabification.stretch-512"><span class="linenos">512</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_postAlignAdjustment</span><span class="p">(</span><span class="n">alignedP</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Lengthen the source syllabification based on a target syllabification</p>

<p>This works by first desllabifying the two syllabifications, adjusting the
length by inserting spaces, and then resyllabifying.  The target's syllable
structure has no influence on the output.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">phonetics</span><span class="o">.</span><span class="n">Syllabification</span><span class="p">([[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">phonetics</span><span class="o">.</span><span class="n">Syllabification</span><span class="p">([[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;ɪ&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stretch</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">toList</span><span class="p">())</span>
<span class="o">&gt;&gt;</span> <span class="p">[[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">]]</span>
</code></pre>
</div>

<p>TODO: The more different the source and target are, the more meaningless
      the results become.</p>
</div>


                            </div>
                </section>
                <section id="Entry">
                            <input id="Entry-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Entry</span>:

                <label class="view-source-button" for="Entry-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entry"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entry-553"><a href="#Entry-553"><span class="linenos">553</span></a><span class="k">class</span> <span class="nc">Entry</span><span class="p">:</span>
</span><span id="Entry-554"><a href="#Entry-554"><span class="linenos">554</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Representation for a single line in the Isle dictionary</span>
</span><span id="Entry-555"><a href="#Entry-555"><span class="linenos">555</span></a>
</span><span id="Entry-556"><a href="#Entry-556"><span class="linenos">556</span></a><span class="sd">    Attributes:</span>
</span><span id="Entry-557"><a href="#Entry-557"><span class="linenos">557</span></a><span class="sd">        word: the word for this Entry (eg &#39;cat&#39;)</span>
</span><span id="Entry-558"><a href="#Entry-558"><span class="linenos">558</span></a><span class="sd">        syllabificationList: the syllabification for this Entry</span>
</span><span id="Entry-559"><a href="#Entry-559"><span class="linenos">559</span></a><span class="sd">            (eg [[[&#39;k&#39;, &#39;a&#39;, &#39;t&#39;]]]); it&#39;s represented by a List of Lists</span>
</span><span id="Entry-560"><a href="#Entry-560"><span class="linenos">560</span></a><span class="sd">            of Lists of strings because:</span>
</span><span id="Entry-561"><a href="#Entry-561"><span class="linenos">561</span></a><span class="sd">            - multiple words can be part of the same entry</span>
</span><span id="Entry-562"><a href="#Entry-562"><span class="linenos">562</span></a><span class="sd">            - each word can have multiple syllables</span>
</span><span id="Entry-563"><a href="#Entry-563"><span class="linenos">563</span></a><span class="sd">            - each syllable can have multiple phones</span>
</span><span id="Entry-564"><a href="#Entry-564"><span class="linenos">564</span></a><span class="sd">        phonemeList: the syllabification in this entry, with syllable</span>
</span><span id="Entry-565"><a href="#Entry-565"><span class="linenos">565</span></a><span class="sd">            information removed</span>
</span><span id="Entry-566"><a href="#Entry-566"><span class="linenos">566</span></a><span class="sd">        posList: the part of speech associated with this word</span>
</span><span id="Entry-567"><a href="#Entry-567"><span class="linenos">567</span></a><span class="sd">        hasStress: True if the syllabification in this entry contains stress</span>
</span><span id="Entry-568"><a href="#Entry-568"><span class="linenos">568</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Entry-569"><a href="#Entry-569"><span class="linenos">569</span></a>
</span><span id="Entry-570"><a href="#Entry-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Entry-571"><a href="#Entry-571"><span class="linenos">571</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Entry-572"><a href="#Entry-572"><span class="linenos">572</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Entry-573"><a href="#Entry-573"><span class="linenos">573</span></a>        <span class="n">syllabificationList</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]],</span>
</span><span id="Entry-574"><a href="#Entry-574"><span class="linenos">574</span></a>        <span class="n">posList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="Entry-575"><a href="#Entry-575"><span class="linenos">575</span></a>    <span class="p">):</span>
</span><span id="Entry-576"><a href="#Entry-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word</span> <span class="o">=</span> <span class="n">word</span>
</span><span id="Entry-577"><a href="#Entry-577"><span class="linenos">577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Entry-578"><a href="#Entry-578"><span class="linenos">578</span></a>            <span class="n">_toSyllabification</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="Entry-579"><a href="#Entry-579"><span class="linenos">579</span></a>            <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="n">syllabificationList</span>
</span><span id="Entry-580"><a href="#Entry-580"><span class="linenos">580</span></a>        <span class="p">]</span>
</span><span id="Entry-581"><a href="#Entry-581"><span class="linenos">581</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">posList</span> <span class="o">=</span> <span class="n">posList</span>
</span><span id="Entry-582"><a href="#Entry-582"><span class="linenos">582</span></a>
</span><span id="Entry-583"><a href="#Entry-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Entry-584"><a href="#Entry-584"><span class="linenos">584</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Entry</span><span class="p">):</span>
</span><span id="Entry-585"><a href="#Entry-585"><span class="linenos">585</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Entry-586"><a href="#Entry-586"><span class="linenos">586</span></a>
</span><span id="Entry-587"><a href="#Entry-587"><span class="linenos">587</span></a>        <span class="n">isEqual</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Entry-588"><a href="#Entry-588"><span class="linenos">588</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">word</span>
</span><span id="Entry-589"><a href="#Entry-589"><span class="linenos">589</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="Entry-590"><a href="#Entry-590"><span class="linenos">590</span></a>        <span class="n">isEqual</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">posList</span>
</span><span id="Entry-591"><a href="#Entry-591"><span class="linenos">591</span></a>
</span><span id="Entry-592"><a href="#Entry-592"><span class="linenos">592</span></a>        <span class="k">return</span> <span class="n">isEqual</span>
</span><span id="Entry-593"><a href="#Entry-593"><span class="linenos">593</span></a>
</span><span id="Entry-594"><a href="#Entry-594"><span class="linenos">594</span></a>    <span class="nd">@property</span>
</span><span id="Entry-595"><a href="#Entry-595"><span class="linenos">595</span></a>    <span class="k">def</span> <span class="nf">hasStress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Entry-596"><a href="#Entry-596"><span class="linenos">596</span></a>        <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">:</span>
</span><span id="Entry-597"><a href="#Entry-597"><span class="linenos">597</span></a>            <span class="k">if</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="Entry-598"><a href="#Entry-598"><span class="linenos">598</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="Entry-599"><a href="#Entry-599"><span class="linenos">599</span></a>
</span><span id="Entry-600"><a href="#Entry-600"><span class="linenos">600</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Entry-601"><a href="#Entry-601"><span class="linenos">601</span></a>
</span><span id="Entry-602"><a href="#Entry-602"><span class="linenos">602</span></a>    <span class="nd">@property</span>
</span><span id="Entry-603"><a href="#Entry-603"><span class="linenos">603</span></a>    <span class="k">def</span> <span class="nf">phonemeList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhonemeList</span><span class="p">:</span>
</span><span id="Entry-604"><a href="#Entry-604"><span class="linenos">604</span></a>        <span class="n">phoneList</span> <span class="o">=</span> <span class="n">PhonemeList</span><span class="p">([])</span>
</span><span id="Entry-605"><a href="#Entry-605"><span class="linenos">605</span></a>        <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">:</span>
</span><span id="Entry-606"><a href="#Entry-606"><span class="linenos">606</span></a>            <span class="n">phoneList</span> <span class="o">=</span> <span class="n">phoneList</span> <span class="o">+</span> <span class="n">syllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="Entry-607"><a href="#Entry-607"><span class="linenos">607</span></a>
</span><span id="Entry-608"><a href="#Entry-608"><span class="linenos">608</span></a>        <span class="k">return</span> <span class="n">phoneList</span>
</span><span id="Entry-609"><a href="#Entry-609"><span class="linenos">609</span></a>
</span><span id="Entry-610"><a href="#Entry-610"><span class="linenos">610</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
</span><span id="Entry-611"><a href="#Entry-611"><span class="linenos">611</span></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="Entry-612"><a href="#Entry-612"><span class="linenos">612</span></a>            <span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span> <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="Entry-613"><a href="#Entry-613"><span class="linenos">613</span></a>        <span class="p">]</span>
</span><span id="Entry-614"><a href="#Entry-614"><span class="linenos">614</span></a>
</span><span id="Entry-615"><a href="#Entry-615"><span class="linenos">615</span></a>    <span class="k">def</span> <span class="nf">toDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entry-616"><a href="#Entry-616"><span class="linenos">616</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="Entry-617"><a href="#Entry-617"><span class="linenos">617</span></a>            <span class="s2">&quot;word&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span>
</span><span id="Entry-618"><a href="#Entry-618"><span class="linenos">618</span></a>            <span class="s2">&quot;syllabificationList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">toList</span><span class="p">(),</span>
</span><span id="Entry-619"><a href="#Entry-619"><span class="linenos">619</span></a>            <span class="s2">&quot;posList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">,</span>
</span><span id="Entry-620"><a href="#Entry-620"><span class="linenos">620</span></a>        <span class="p">}</span>
</span><span id="Entry-621"><a href="#Entry-621"><span class="linenos">621</span></a>
</span><span id="Entry-622"><a href="#Entry-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">findClosestPronunciation</span><span class="p">(</span>
</span><span id="Entry-623"><a href="#Entry-623"><span class="linenos">623</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">]</span>
</span><span id="Entry-624"><a href="#Entry-624"><span class="linenos">624</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">]:</span>
</span><span id="Entry-625"><a href="#Entry-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the entry from the given list that is most like this entry</span>
</span><span id="Entry-626"><a href="#Entry-626"><span class="linenos">626</span></a>
</span><span id="Entry-627"><a href="#Entry-627"><span class="linenos">627</span></a><span class="sd">        Similarity between entries is done by comparing desyllabified forms</span>
</span><span id="Entry-628"><a href="#Entry-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entry-629"><a href="#Entry-629"><span class="linenos">629</span></a>
</span><span id="Entry-630"><a href="#Entry-630"><span class="linenos">630</span></a>        <span class="k">def</span> <span class="nf">diffCount</span><span class="p">(</span>
</span><span id="Entry-631"><a href="#Entry-631"><span class="linenos">631</span></a>            <span class="n">currentSyllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span>
</span><span id="Entry-632"><a href="#Entry-632"><span class="linenos">632</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Entry-633"><a href="#Entry-633"><span class="linenos">633</span></a>            <span class="n">currentPhoneList</span> <span class="o">=</span> <span class="n">currentSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="Entry-634"><a href="#Entry-634"><span class="linenos">634</span></a>            <span class="n">targetPhoneList</span> <span class="o">=</span> <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="Entry-635"><a href="#Entry-635"><span class="linenos">635</span></a>
</span><span id="Entry-636"><a href="#Entry-636"><span class="linenos">636</span></a>            <span class="c1"># Make the two pronunciations the same length (using a simplified</span>
</span><span id="Entry-637"><a href="#Entry-637"><span class="linenos">637</span></a>            <span class="c1"># version of each)</span>
</span><span id="Entry-638"><a href="#Entry-638"><span class="linenos">638</span></a>            <span class="n">alignedP</span><span class="p">,</span> <span class="n">alignedTargetP</span> <span class="o">=</span> <span class="n">currentPhoneList</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="Entry-639"><a href="#Entry-639"><span class="linenos">639</span></a>                <span class="n">targetPhoneList</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="Entry-640"><a href="#Entry-640"><span class="linenos">640</span></a>            <span class="p">)</span>
</span><span id="Entry-641"><a href="#Entry-641"><span class="linenos">641</span></a>
</span><span id="Entry-642"><a href="#Entry-642"><span class="linenos">642</span></a>            <span class="k">return</span> <span class="n">alignedP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span>
</span><span id="Entry-643"><a href="#Entry-643"><span class="linenos">643</span></a>                <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="Entry-644"><a href="#Entry-644"><span class="linenos">644</span></a>            <span class="p">)</span> <span class="o">+</span> <span class="n">alignedTargetP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="Entry-645"><a href="#Entry-645"><span class="linenos">645</span></a>
</span><span id="Entry-646"><a href="#Entry-646"><span class="linenos">646</span></a>        <span class="n">numDiffList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry-647"><a href="#Entry-647"><span class="linenos">647</span></a>        <span class="n">withStress</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry-648"><a href="#Entry-648"><span class="linenos">648</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Entry-649"><a href="#Entry-649"><span class="linenos">649</span></a>        <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry-650"><a href="#Entry-650"><span class="linenos">650</span></a>        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
</span><span id="Entry-651"><a href="#Entry-651"><span class="linenos">651</span></a>            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span>
</span><span id="Entry-652"><a href="#Entry-652"><span class="linenos">652</span></a>
</span><span id="Entry-653"><a href="#Entry-653"><span class="linenos">653</span></a>            <span class="n">numDiff</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Entry-654"><a href="#Entry-654"><span class="linenos">654</span></a>            <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entry-655"><a href="#Entry-655"><span class="linenos">655</span></a>            <span class="n">modifiedSyllabificationList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry-656"><a href="#Entry-656"><span class="linenos">656</span></a>            <span class="k">for</span> <span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="Entry-657"><a href="#Entry-657"><span class="linenos">657</span></a>                <span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="Entry-658"><a href="#Entry-658"><span class="linenos">658</span></a>            <span class="p">):</span>
</span><span id="Entry-659"><a href="#Entry-659"><span class="linenos">659</span></a>                <span class="n">modifiedSyllabificationList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entry-660"><a href="#Entry-660"><span class="linenos">660</span></a>                    <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">stretch</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="Entry-661"><a href="#Entry-661"><span class="linenos">661</span></a>                <span class="p">)</span>
</span><span id="Entry-662"><a href="#Entry-662"><span class="linenos">662</span></a>                <span class="n">numDiff</span> <span class="o">+=</span> <span class="n">diffCount</span><span class="p">(</span><span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">)</span>
</span><span id="Entry-663"><a href="#Entry-663"><span class="linenos">663</span></a>
</span><span id="Entry-664"><a href="#Entry-664"><span class="linenos">664</span></a>                <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="Entry-665"><a href="#Entry-665"><span class="linenos">665</span></a>                    <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Entry-666"><a href="#Entry-666"><span class="linenos">666</span></a>
</span><span id="Entry-667"><a href="#Entry-667"><span class="linenos">667</span></a>            <span class="n">numDiffList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numDiff</span><span class="p">)</span>
</span><span id="Entry-668"><a href="#Entry-668"><span class="linenos">668</span></a>            <span class="n">withStress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hasStress</span><span class="p">)</span>
</span><span id="Entry-669"><a href="#Entry-669"><span class="linenos">669</span></a>            <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entry-670"><a href="#Entry-670"><span class="linenos">670</span></a>                <span class="n">modifiedSyllabificationList</span>
</span><span id="Entry-671"><a href="#Entry-671"><span class="linenos">671</span></a>            <span class="p">)</span>
</span><span id="Entry-672"><a href="#Entry-672"><span class="linenos">672</span></a>
</span><span id="Entry-673"><a href="#Entry-673"><span class="linenos">673</span></a>            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Entry-674"><a href="#Entry-674"><span class="linenos">674</span></a>
</span><span id="Entry-675"><a href="#Entry-675"><span class="linenos">675</span></a>        <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">_chooseMostSimilarWithStress</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">,</span> <span class="n">withStress</span><span class="p">)</span>
</span><span id="Entry-676"><a href="#Entry-676"><span class="linenos">676</span></a>
</span><span id="Entry-677"><a href="#Entry-677"><span class="linenos">677</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entry-678"><a href="#Entry-678"><span class="linenos">678</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FindClosestError</span><span class="p">(</span>
</span><span id="Entry-679"><a href="#Entry-679"><span class="linenos">679</span></a>                <span class="s2">&quot;Unexpected error: Could not choose a closest pronunciation.&quot;</span>
</span><span id="Entry-680"><a href="#Entry-680"><span class="linenos">680</span></a>            <span class="p">)</span>
</span><span id="Entry-681"><a href="#Entry-681"><span class="linenos">681</span></a>        <span class="n">closestEntry</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="Entry-682"><a href="#Entry-682"><span class="linenos">682</span></a>
</span><span id="Entry-683"><a href="#Entry-683"><span class="linenos">683</span></a>        <span class="n">modifiedTargetSyllabification</span> <span class="o">=</span> <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">[</span>
</span><span id="Entry-684"><a href="#Entry-684"><span class="linenos">684</span></a>            <span class="n">bestIndex</span>
</span><span id="Entry-685"><a href="#Entry-685"><span class="linenos">685</span></a>        <span class="p">]</span>
</span><span id="Entry-686"><a href="#Entry-686"><span class="linenos">686</span></a>        <span class="n">constructedEntry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="n">modifiedTargetSyllabification</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">)</span>
</span><span id="Entry-687"><a href="#Entry-687"><span class="linenos">687</span></a>
</span><span id="Entry-688"><a href="#Entry-688"><span class="linenos">688</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">closestEntry</span><span class="p">,</span> <span class="n">constructedEntry</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Representation for a single line in the Isle dictionary</p>

<h6 id="attributes">Attributes:</h6>

<ul>
<li><strong>word:</strong>  the word for this Entry (eg 'cat')</li>
<li><strong>syllabificationList:</strong>  the syllabification for this Entry
(eg [[['k', 'a', 't']]]); it's represented by a List of Lists
of Lists of strings because:
<ul>
<li>multiple words can be part of the same entry</li>
<li>each word can have multiple syllables</li>
<li>each syllable can have multiple phones</li>
</ul></li>
<li><strong>phonemeList:</strong>  the syllabification in this entry, with syllable
information removed</li>
<li><strong>posList:</strong>  the part of speech associated with this word</li>
<li><strong>hasStress:</strong>  True if the syllabification in this entry contains stress</li>
</ul>
</div>


                            <div id="Entry.__init__" class="classattr">
                                        <input id="Entry.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Entry</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">syllabificationList</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Syllabification">pysle.phonetics.Syllabification</a></span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]]</span>,</span><span class="param">	<span class="n">posList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span>)</span>

                <label class="view-source-button" for="Entry.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entry.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entry.__init__-570"><a href="#Entry.__init__-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Entry.__init__-571"><a href="#Entry.__init__-571"><span class="linenos">571</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Entry.__init__-572"><a href="#Entry.__init__-572"><span class="linenos">572</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Entry.__init__-573"><a href="#Entry.__init__-573"><span class="linenos">573</span></a>        <span class="n">syllabificationList</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]],</span>
</span><span id="Entry.__init__-574"><a href="#Entry.__init__-574"><span class="linenos">574</span></a>        <span class="n">posList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="Entry.__init__-575"><a href="#Entry.__init__-575"><span class="linenos">575</span></a>    <span class="p">):</span>
</span><span id="Entry.__init__-576"><a href="#Entry.__init__-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word</span> <span class="o">=</span> <span class="n">word</span>
</span><span id="Entry.__init__-577"><a href="#Entry.__init__-577"><span class="linenos">577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Entry.__init__-578"><a href="#Entry.__init__-578"><span class="linenos">578</span></a>            <span class="n">_toSyllabification</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="Entry.__init__-579"><a href="#Entry.__init__-579"><span class="linenos">579</span></a>            <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="n">syllabificationList</span>
</span><span id="Entry.__init__-580"><a href="#Entry.__init__-580"><span class="linenos">580</span></a>        <span class="p">]</span>
</span><span id="Entry.__init__-581"><a href="#Entry.__init__-581"><span class="linenos">581</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">posList</span> <span class="o">=</span> <span class="n">posList</span>
</span></pre></div>


    

                            </div>
                            <div id="Entry.toList" class="classattr">
                                        <input id="Entry.toList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">toList</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span>:</span></span>

                <label class="view-source-button" for="Entry.toList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entry.toList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entry.toList-610"><a href="#Entry.toList-610"><span class="linenos">610</span></a>    <span class="k">def</span> <span class="nf">toList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
</span><span id="Entry.toList-611"><a href="#Entry.toList-611"><span class="linenos">611</span></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="Entry.toList-612"><a href="#Entry.toList-612"><span class="linenos">612</span></a>            <span class="n">syllabification</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span> <span class="k">for</span> <span class="n">syllabification</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="Entry.toList-613"><a href="#Entry.toList-613"><span class="linenos">613</span></a>        <span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="Entry.toDict" class="classattr">
                                        <input id="Entry.toDict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">toDict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entry.toDict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entry.toDict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entry.toDict-615"><a href="#Entry.toDict-615"><span class="linenos">615</span></a>    <span class="k">def</span> <span class="nf">toDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entry.toDict-616"><a href="#Entry.toDict-616"><span class="linenos">616</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="Entry.toDict-617"><a href="#Entry.toDict-617"><span class="linenos">617</span></a>            <span class="s2">&quot;word&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span>
</span><span id="Entry.toDict-618"><a href="#Entry.toDict-618"><span class="linenos">618</span></a>            <span class="s2">&quot;syllabificationList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">toList</span><span class="p">(),</span>
</span><span id="Entry.toDict-619"><a href="#Entry.toDict-619"><span class="linenos">619</span></a>            <span class="s2">&quot;posList&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">,</span>
</span><span id="Entry.toDict-620"><a href="#Entry.toDict-620"><span class="linenos">620</span></a>        <span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="Entry.findClosestPronunciation" class="classattr">
                                        <input id="Entry.findClosestPronunciation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">findClosestPronunciation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Tuple</span><span class="p">[</span><span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span><span class="p">,</span> <span class="n"><a href="#Entry">pysle.phonetics.Entry</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Entry.findClosestPronunciation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entry.findClosestPronunciation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entry.findClosestPronunciation-622"><a href="#Entry.findClosestPronunciation-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">findClosestPronunciation</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-623"><a href="#Entry.findClosestPronunciation-623"><span class="linenos">623</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">]</span>
</span><span id="Entry.findClosestPronunciation-624"><a href="#Entry.findClosestPronunciation-624"><span class="linenos">624</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">]:</span>
</span><span id="Entry.findClosestPronunciation-625"><a href="#Entry.findClosestPronunciation-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the entry from the given list that is most like this entry</span>
</span><span id="Entry.findClosestPronunciation-626"><a href="#Entry.findClosestPronunciation-626"><span class="linenos">626</span></a>
</span><span id="Entry.findClosestPronunciation-627"><a href="#Entry.findClosestPronunciation-627"><span class="linenos">627</span></a><span class="sd">        Similarity between entries is done by comparing desyllabified forms</span>
</span><span id="Entry.findClosestPronunciation-628"><a href="#Entry.findClosestPronunciation-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entry.findClosestPronunciation-629"><a href="#Entry.findClosestPronunciation-629"><span class="linenos">629</span></a>
</span><span id="Entry.findClosestPronunciation-630"><a href="#Entry.findClosestPronunciation-630"><span class="linenos">630</span></a>        <span class="k">def</span> <span class="nf">diffCount</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-631"><a href="#Entry.findClosestPronunciation-631"><span class="linenos">631</span></a>            <span class="n">currentSyllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">:</span> <span class="s2">&quot;Syllabification&quot;</span>
</span><span id="Entry.findClosestPronunciation-632"><a href="#Entry.findClosestPronunciation-632"><span class="linenos">632</span></a>        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Entry.findClosestPronunciation-633"><a href="#Entry.findClosestPronunciation-633"><span class="linenos">633</span></a>            <span class="n">currentPhoneList</span> <span class="o">=</span> <span class="n">currentSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="Entry.findClosestPronunciation-634"><a href="#Entry.findClosestPronunciation-634"><span class="linenos">634</span></a>            <span class="n">targetPhoneList</span> <span class="o">=</span> <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">desyllabify</span><span class="p">()</span>
</span><span id="Entry.findClosestPronunciation-635"><a href="#Entry.findClosestPronunciation-635"><span class="linenos">635</span></a>
</span><span id="Entry.findClosestPronunciation-636"><a href="#Entry.findClosestPronunciation-636"><span class="linenos">636</span></a>            <span class="c1"># Make the two pronunciations the same length (using a simplified</span>
</span><span id="Entry.findClosestPronunciation-637"><a href="#Entry.findClosestPronunciation-637"><span class="linenos">637</span></a>            <span class="c1"># version of each)</span>
</span><span id="Entry.findClosestPronunciation-638"><a href="#Entry.findClosestPronunciation-638"><span class="linenos">638</span></a>            <span class="n">alignedP</span><span class="p">,</span> <span class="n">alignedTargetP</span> <span class="o">=</span> <span class="n">currentPhoneList</span><span class="o">.</span><span class="n">align</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-639"><a href="#Entry.findClosestPronunciation-639"><span class="linenos">639</span></a>                <span class="n">targetPhoneList</span><span class="p">,</span> <span class="n">simplifiedMatching</span><span class="o">=</span><span class="kc">True</span>
</span><span id="Entry.findClosestPronunciation-640"><a href="#Entry.findClosestPronunciation-640"><span class="linenos">640</span></a>            <span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-641"><a href="#Entry.findClosestPronunciation-641"><span class="linenos">641</span></a>
</span><span id="Entry.findClosestPronunciation-642"><a href="#Entry.findClosestPronunciation-642"><span class="linenos">642</span></a>            <span class="k">return</span> <span class="n">alignedP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-643"><a href="#Entry.findClosestPronunciation-643"><span class="linenos">643</span></a>                <span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span>
</span><span id="Entry.findClosestPronunciation-644"><a href="#Entry.findClosestPronunciation-644"><span class="linenos">644</span></a>            <span class="p">)</span> <span class="o">+</span> <span class="n">alignedTargetP</span><span class="o">.</span><span class="n">phonemes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">phonetic_constants</span><span class="o">.</span><span class="n">FILLER</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-645"><a href="#Entry.findClosestPronunciation-645"><span class="linenos">645</span></a>
</span><span id="Entry.findClosestPronunciation-646"><a href="#Entry.findClosestPronunciation-646"><span class="linenos">646</span></a>        <span class="n">numDiffList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry.findClosestPronunciation-647"><a href="#Entry.findClosestPronunciation-647"><span class="linenos">647</span></a>        <span class="n">withStress</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry.findClosestPronunciation-648"><a href="#Entry.findClosestPronunciation-648"><span class="linenos">648</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Entry.findClosestPronunciation-649"><a href="#Entry.findClosestPronunciation-649"><span class="linenos">649</span></a>        <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry.findClosestPronunciation-650"><a href="#Entry.findClosestPronunciation-650"><span class="linenos">650</span></a>        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
</span><span id="Entry.findClosestPronunciation-651"><a href="#Entry.findClosestPronunciation-651"><span class="linenos">651</span></a>            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-652"><a href="#Entry.findClosestPronunciation-652"><span class="linenos">652</span></a>
</span><span id="Entry.findClosestPronunciation-653"><a href="#Entry.findClosestPronunciation-653"><span class="linenos">653</span></a>            <span class="n">numDiff</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Entry.findClosestPronunciation-654"><a href="#Entry.findClosestPronunciation-654"><span class="linenos">654</span></a>            <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entry.findClosestPronunciation-655"><a href="#Entry.findClosestPronunciation-655"><span class="linenos">655</span></a>            <span class="n">modifiedSyllabificationList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Syllabification</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entry.findClosestPronunciation-656"><a href="#Entry.findClosestPronunciation-656"><span class="linenos">656</span></a>            <span class="k">for</span> <span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-657"><a href="#Entry.findClosestPronunciation-657"><span class="linenos">657</span></a>                <span class="n">entry</span><span class="o">.</span><span class="n">syllabificationList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllabificationList</span>
</span><span id="Entry.findClosestPronunciation-658"><a href="#Entry.findClosestPronunciation-658"><span class="linenos">658</span></a>            <span class="p">):</span>
</span><span id="Entry.findClosestPronunciation-659"><a href="#Entry.findClosestPronunciation-659"><span class="linenos">659</span></a>                <span class="n">modifiedSyllabificationList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-660"><a href="#Entry.findClosestPronunciation-660"><span class="linenos">660</span></a>                    <span class="n">targetSyllabification</span><span class="o">.</span><span class="n">stretch</span><span class="p">(</span><span class="n">syllabification</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-661"><a href="#Entry.findClosestPronunciation-661"><span class="linenos">661</span></a>                <span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-662"><a href="#Entry.findClosestPronunciation-662"><span class="linenos">662</span></a>                <span class="n">numDiff</span> <span class="o">+=</span> <span class="n">diffCount</span><span class="p">(</span><span class="n">syllabification</span><span class="p">,</span> <span class="n">targetSyllabification</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-663"><a href="#Entry.findClosestPronunciation-663"><span class="linenos">663</span></a>
</span><span id="Entry.findClosestPronunciation-664"><a href="#Entry.findClosestPronunciation-664"><span class="linenos">664</span></a>                <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">hasStress</span><span class="p">:</span>
</span><span id="Entry.findClosestPronunciation-665"><a href="#Entry.findClosestPronunciation-665"><span class="linenos">665</span></a>                    <span class="n">hasStress</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Entry.findClosestPronunciation-666"><a href="#Entry.findClosestPronunciation-666"><span class="linenos">666</span></a>
</span><span id="Entry.findClosestPronunciation-667"><a href="#Entry.findClosestPronunciation-667"><span class="linenos">667</span></a>            <span class="n">numDiffList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numDiff</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-668"><a href="#Entry.findClosestPronunciation-668"><span class="linenos">668</span></a>            <span class="n">withStress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hasStress</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-669"><a href="#Entry.findClosestPronunciation-669"><span class="linenos">669</span></a>            <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-670"><a href="#Entry.findClosestPronunciation-670"><span class="linenos">670</span></a>                <span class="n">modifiedSyllabificationList</span>
</span><span id="Entry.findClosestPronunciation-671"><a href="#Entry.findClosestPronunciation-671"><span class="linenos">671</span></a>            <span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-672"><a href="#Entry.findClosestPronunciation-672"><span class="linenos">672</span></a>
</span><span id="Entry.findClosestPronunciation-673"><a href="#Entry.findClosestPronunciation-673"><span class="linenos">673</span></a>            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Entry.findClosestPronunciation-674"><a href="#Entry.findClosestPronunciation-674"><span class="linenos">674</span></a>
</span><span id="Entry.findClosestPronunciation-675"><a href="#Entry.findClosestPronunciation-675"><span class="linenos">675</span></a>        <span class="n">bestIndex</span> <span class="o">=</span> <span class="n">_chooseMostSimilarWithStress</span><span class="p">(</span><span class="n">numDiffList</span><span class="p">,</span> <span class="n">withStress</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-676"><a href="#Entry.findClosestPronunciation-676"><span class="linenos">676</span></a>
</span><span id="Entry.findClosestPronunciation-677"><a href="#Entry.findClosestPronunciation-677"><span class="linenos">677</span></a>        <span class="k">if</span> <span class="n">bestIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entry.findClosestPronunciation-678"><a href="#Entry.findClosestPronunciation-678"><span class="linenos">678</span></a>            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FindClosestError</span><span class="p">(</span>
</span><span id="Entry.findClosestPronunciation-679"><a href="#Entry.findClosestPronunciation-679"><span class="linenos">679</span></a>                <span class="s2">&quot;Unexpected error: Could not choose a closest pronunciation.&quot;</span>
</span><span id="Entry.findClosestPronunciation-680"><a href="#Entry.findClosestPronunciation-680"><span class="linenos">680</span></a>            <span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-681"><a href="#Entry.findClosestPronunciation-681"><span class="linenos">681</span></a>        <span class="n">closestEntry</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="n">bestIndex</span><span class="p">]</span>
</span><span id="Entry.findClosestPronunciation-682"><a href="#Entry.findClosestPronunciation-682"><span class="linenos">682</span></a>
</span><span id="Entry.findClosestPronunciation-683"><a href="#Entry.findClosestPronunciation-683"><span class="linenos">683</span></a>        <span class="n">modifiedTargetSyllabification</span> <span class="o">=</span> <span class="n">modifiedSyllabificationListsOrderedByEntry</span><span class="p">[</span>
</span><span id="Entry.findClosestPronunciation-684"><a href="#Entry.findClosestPronunciation-684"><span class="linenos">684</span></a>            <span class="n">bestIndex</span>
</span><span id="Entry.findClosestPronunciation-685"><a href="#Entry.findClosestPronunciation-685"><span class="linenos">685</span></a>        <span class="p">]</span>
</span><span id="Entry.findClosestPronunciation-686"><a href="#Entry.findClosestPronunciation-686"><span class="linenos">686</span></a>        <span class="n">constructedEntry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="n">modifiedTargetSyllabification</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posList</span><span class="p">)</span>
</span><span id="Entry.findClosestPronunciation-687"><a href="#Entry.findClosestPronunciation-687"><span class="linenos">687</span></a>
</span><span id="Entry.findClosestPronunciation-688"><a href="#Entry.findClosestPronunciation-688"><span class="linenos">688</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">closestEntry</span><span class="p">,</span> <span class="n">constructedEntry</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the entry from the given list that is most like this entry</p>

<p>Similarity between entries is done by comparing desyllabified forms</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>